{
  final Handler handler=new Handler(){
    public void handleMessage(    Message message){
      try {
        runFBReader(file);
      }
 catch (      Exception e) {
      }
    }
  }
;
  new Thread(new Runnable(){
    public void run(){
      try {
        final URL url=new URL(uriString);
        final URLConnection connection=url.openConnection();
        myFileLength=connection.getContentLength();
        if (myFileLength > 0) {
          myProgressBar.setIndeterminate(false);
          myProgressBar.setMax(myFileLength);
          myProgressBar.setProgress(0);
          myDownloadedPart=0;
        }
        final HttpURLConnection httpConnection=(HttpURLConnection)connection;
        final int response=httpConnection.getResponseCode();
        if (response == HttpURLConnection.HTTP_OK) {
          InputStream inStream=httpConnection.getInputStream();
          OutputStream outStream=new FileOutputStream(file);
          final byte[] buffer=new byte[8192];
          int fullSize=0;
          while (true) {
            final int size=inStream.read(buffer);
            if (size <= 0) {
              break;
            }
            myDownloadedPart+=size;
            myProgressBar.setProgress(myDownloadedPart);
            outStream.write(buffer,0,size);
          }
          inStream.close();
          outStream.close();
        }
      }
 catch (      MalformedURLException e) {
      }
catch (      IOException e) {
      }
      handler.sendEmptyMessage(0);
      myFileLength=-1;
    }
  }
).start();
}
