{
  super.onCreate(icicle);
  final Intent intent=getIntent();
  if (Intent.ACTION_SEARCH.equals(intent.getAction())) {
    final org.geometerplus.fbreader.fbreader.FBReader fbreader=(org.geometerplus.fbreader.fbreader.FBReader)org.geometerplus.fbreader.fbreader.FBReader.Instance();
    final String pattern=intent.getStringExtra(SearchManager.QUERY);
    fbreader.TextSearchPatternOption.setValue(pattern);
    ZLDialogManager.Instance().wait("textSearch",new Runnable(){
      public void run(){
        int count=fbreader.getTextView().search(pattern,true,false,false,false);
        if (count != 0) {
          FBReader.Instance.showZoomControls();
        }
      }
    }
);
  }
  finish();
}
