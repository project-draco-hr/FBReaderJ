{
  final View view=(convertView != null) ? convertView : LayoutInflater.from(parent.getContext()).inflate(R.layout.library_tree_item,parent,false);
  final LibraryTree tree=(LibraryTree)getItem(position);
  if ((tree instanceof BookTree) && ((BookTree)tree).Book.equals(myCurrentBook)) {
    view.setBackgroundColor(0xff808080);
  }
 else {
    view.setBackgroundColor(0);
  }
  final ImageView iconView=(ImageView)view.findViewById(R.id.library_tree_item_icon);
switch (myType) {
case Type.FLAT:
    iconView.setVisibility(View.GONE);
  break;
case Type.TREE:
setIcon(iconView,tree);
break;
case Type.NETWORK:
switch (position % 3) {
case 0:
iconView.setImageResource(R.drawable.ic_list_buy);
break;
case 1:
iconView.setImageResource(R.drawable.ic_list_download);
break;
case 2:
iconView.setImageResource(R.drawable.ic_list_flag);
break;
}
break;
}
((TextView)view.findViewById(R.id.library_tree_item_name)).setText(tree.getName());
((TextView)view.findViewById(R.id.library_tree_item_childrenlist)).setText(tree.getSecondString());
return view;
}
