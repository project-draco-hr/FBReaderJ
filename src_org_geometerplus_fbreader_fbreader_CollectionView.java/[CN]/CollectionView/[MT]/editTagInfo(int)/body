{
  final String tag=getCollectionModel().getTagByParagraphIndex(paragraphIndex);
  if (tag == null) {
    return;
  }
  final boolean tagIsSpecial=(tag == SpecialTagAllBooks) || (tag == SpecialTagNoTagsBooks);
  final String tagValue=tagIsSpecial ? "" : tag;
  final boolean editNotClone=tag != SpecialTagAllBooks;
  final boolean includeSubtags=!tagIsSpecial && Collection.hasSubtags(tag);
  final ZLDialog dialog=ZLDialogManager.getInstance().createDialog("editTagInfoDialog");
  final String editOrCloneKey="editOrClone";
  final EditOrCloneEntry editOrCloneEntry=new EditOrCloneEntry(dialog.getResource(editOrCloneKey),editNotClone);
  editOrCloneEntry.setActive(!tagIsSpecial);
  dialog.addOption(editOrCloneKey,editOrCloneEntry);
  dialog.run();
}
