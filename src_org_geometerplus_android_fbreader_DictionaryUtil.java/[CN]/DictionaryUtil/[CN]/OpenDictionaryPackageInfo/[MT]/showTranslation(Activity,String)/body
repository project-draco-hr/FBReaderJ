{
  final WebView webView=new WebView(activity);
  final DisplayMetrics metrics=new DisplayMetrics();
  activity.getWindowManager().getDefaultDisplay().getMetrics(metrics);
  final android.widget.PopupWindow frame=new android.widget.PopupWindow(webView,metrics.widthPixels,metrics.heightPixels / 3);
  frame.showAtLocation(activity.getCurrentFocus(),Gravity.BOTTOM,0,metrics.heightPixels / 2);
  activity.getCurrentFocus().setOnClickListener(new View.OnClickListener(){
    @Override public void onClick(    View view){
      frame.dismiss();
    }
  }
);
  activity.getCurrentFocus().setOnTouchListener(new View.OnTouchListener(){
    @Override public boolean onTouch(    View view,    MotionEvent motionEvent){
      frame.dismiss();
      return false;
    }
  }
);
  myDictionary.getTranslationAsText(text,TranslateMode.SHORT,TranslateFormat.HTML,new Dictionary.TranslateAsTextListener(){
    @Override public void onComplete(    String s,    TranslateMode translateMode){
      webView.loadData(s,"text/html","UTF-8");
    }
    @Override public void onWordNotFound(    ArrayList<String> strings){
      frame.dismiss();
    }
    @Override public void onError(    com.paragon.open.dictionary.api.Error error){
      frame.dismiss();
    }
    @Override public void onIPCError(    String s){
      frame.dismiss();
    }
  }
);
}
