{
  final Intent intent=new Intent(IntentAction);
  if (PackageName != null) {
    if (ClassName != null) {
      String cls=ClassName;
      if (cls.startsWith(".")) {
        cls=PackageName + cls;
      }
      intent.setComponent(new ComponentName(PackageName,cls));
    }
  }
  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
  text=IntentDataPattern.replace("%s",text);
  if (IntentKey != null) {
    return intent.putExtra(IntentKey,text);
  }
 else {
    return intent.setData(Uri.parse(text));
  }
}
