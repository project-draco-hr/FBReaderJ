{
  final Intent intent=new Intent(get("action"));
  final String packageName=get("package");
  if (packageName != null) {
    final String className=get("class");
    if (className != null) {
      intent.setComponent(new ComponentName(packageName,className.startsWith(".") ? packageName + className : className));
    }
  }
  final String category=get("category");
  if (category != null) {
    intent.addCategory(category);
  }
  intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);
  intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
  final String key=get("dataKey");
  if (key != null) {
    return intent.putExtra(key,text);
  }
 else {
    return intent.setData(Uri.parse(text));
  }
}
