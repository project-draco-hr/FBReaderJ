{
  if (singleWord) {
    int start=0;
    int end=text.length();
    for (; start < end && !Character.isLetterOrDigit(text.charAt(start)); ++start)     ;
    for (; start < end && !Character.isLetterOrDigit(text.charAt(end - 1)); --end)     ;
    if (start == end) {
      return;
    }
    text=text.substring(start,end);
  }
  final DisplayMetrics metrics=new DisplayMetrics();
  activity.getWindowManager().getDefaultDisplay().getMetrics(metrics);
  final PopupFrameMetric frameMetrics=new PopupFrameMetric(metrics,selectionTop,selectionBottom);
  getCurrentDictionaryInfo(singleWord).open(text,activity,frameMetrics);
}
