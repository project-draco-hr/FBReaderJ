{
  super.onCreate(savedInstanceState);
  setContentView(R.layout.filter);
  myListChBox.add(getCheckBox(R.id.checkboxTypeTXT,"txt"));
  myListChBox.add(getCheckBox(R.id.checkboxTypeFB2,"fb2"));
  myListChBox.add(getCheckBox(R.id.checkboxTypePDF,"pdf"));
  myListChBox.add(getCheckBox(R.id.checkboxTypeDOC,"doc"));
  myListChBox.add(getCheckBox(R.id.checkboxTypeDOCX,"docx"));
  myListChBox.add(getCheckBox(R.id.checkboxTypeODT,"odt"));
  setCurrentTypes();
  CheckBox checkBoxAll=getCheckBox(R.id.checkboxAll,"all");
  checkBoxAll.setOnCheckedChangeListener(new OnCheckedChangeListener(){
    public void onCheckedChanged(    CompoundButton buttonView,    boolean isChecked){
      for (      CheckBox ch : myListChBox) {
        ch.setChecked(isChecked);
      }
    }
  }
);
  Button okButton=FileUtils.getOkBtn(this,R.id.okButton);
  Button cancelButton=FileUtils.getCancelBtn(this,R.id.cancelButton);
  cancelButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      finish();
    }
  }
);
  okButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      String filterStr="";
      for (      CheckBox ch : myListChBox) {
        if (ch.isChecked())         filterStr+=ch.getText().toString() + " ";
      }
      setResult(1,new Intent(filterStr));
      finish();
    }
  }
);
}
