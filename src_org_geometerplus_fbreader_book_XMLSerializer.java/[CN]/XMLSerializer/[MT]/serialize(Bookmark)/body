{
  final StringBuilder buffer=new StringBuilder();
  appendTag(buffer,"bookmark",false,"id",String.valueOf(bookmark.getId()),"visible",String.valueOf(bookmark.IsVisible));
  appendTag(buffer,"book",true,"id",String.valueOf(bookmark.getBookId()),"title",bookmark.getBookTitle());
  appendTagWithContent(buffer,"text",bookmark.getText());
  appendTag(buffer,"history",true,"date-creation",formatDate(bookmark.getDate(Bookmark.DateType.Creation)),"date-modification",formatDate(bookmark.getDate(Bookmark.DateType.Modification)),"date-access",formatDate(bookmark.getDate(Bookmark.DateType.Access)),"access-count",String.valueOf(bookmark.getAccessCount()));
  appendTag(buffer,"position",true,"model",bookmark.ModelId,"paragraph",String.valueOf(bookmark.getParagraphIndex()),"element",String.valueOf(bookmark.getElementIndex()),"char",String.valueOf(bookmark.getCharIndex()));
  closeTag(buffer,"bookmark");
  return buffer.toString();
}
