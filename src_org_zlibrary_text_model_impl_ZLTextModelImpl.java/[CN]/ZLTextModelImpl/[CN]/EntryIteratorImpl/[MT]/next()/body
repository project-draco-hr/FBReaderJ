{
  int dataOffset=myDataOffset;
  if (dataOffset == myDataBlockSize) {
    ++myDataIndex;
    dataOffset=0;
  }
  char[] data=(char[])myData.get(myDataIndex);
  byte type=(byte)data[dataOffset];
  if (type == 0) {
    data=(char[])myData.get(++myDataIndex);
    dataOffset=0;
    type=(byte)data[0];
  }
  myType=type;
  ++dataOffset;
switch (type) {
case ZLTextParagraph.Entry.TEXT:
    myTextLength=((int)data[dataOffset++] << 16) + (int)data[dataOffset++];
  myTextData=data;
myTextOffset=dataOffset;
dataOffset+=myTextLength;
break;
case ZLTextParagraph.Entry.CONTROL:
{
short kind=(short)data[dataOffset++];
myControlKind=(byte)kind;
myControlIsStart=(kind & 0x0100) == 0x0100;
if ((kind & 0x0200) == 0x0200) {
myControlIsHyperlink=true;
short labelLength=(short)data[dataOffset++];
myHyperlinkControlLabel=new String(data,dataOffset,labelLength);
dataOffset+=labelLength;
}
 else {
myControlIsHyperlink=false;
}
break;
}
case ZLTextParagraph.Entry.IMAGE:
myImageEntry=(ZLImageEntry)myEntries.get((int)data[dataOffset++]);
break;
case ZLTextParagraph.Entry.FIXED_HSPACE:
case ZLTextParagraph.Entry.FORCED_CONTROL:
break;
}
++myCounter;
myDataOffset=dataOffset;
}
