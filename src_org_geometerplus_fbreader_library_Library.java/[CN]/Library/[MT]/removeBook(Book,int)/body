{
  if (removeMode == REMOVE_DONT_REMOVE) {
    return;
  }
  myBooks.remove(book.File);
  if (getFirstLevelTree(ROOT_RECENT).removeBook(book,false)) {
    final List<Long> ids=myDatabase.loadRecentBookIds();
    ids.remove(book.getId());
    myDatabase.saveRecentBookIds(ids);
  }
  getFirstLevelTree(ROOT_FAVORITES).removeBook(book,false);
  myRootTree.removeBook(book,true);
  myDatabase.deleteFromBookList(book.getId());
  if ((removeMode & REMOVE_FROM_DISK) != 0) {
    book.File.getPhysicalFile().delete();
  }
}
