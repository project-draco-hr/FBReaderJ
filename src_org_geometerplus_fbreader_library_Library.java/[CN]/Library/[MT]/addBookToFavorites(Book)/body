{
  waitForState(STATE_FULLY_INITIALIZED);
  final LibraryTree rootFavorites=getRootTree(ROOT_FAVORITES);
  if (!rootFavorites.containsBook(book)) {
    rootFavorites.createBookSubTree(book,true);
    rootFavorites.sortAllChildren();
    BooksDatabase.Instance().addToFavorites(book.getId());
  }
}
