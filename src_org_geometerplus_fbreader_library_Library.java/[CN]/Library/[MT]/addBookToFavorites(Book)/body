{
  waitForState(STATE_FULLY_INITIALIZED);
  if (isBookInFavorites(book)) {
    return;
  }
  final LibraryTree rootFavorites=getRootTree(ROOT_FAVORITES);
  rootFavorites.createBookSubTree(book,true);
  rootFavorites.sortAllChildren();
  BooksDatabase.Instance().addToFavorites(book.getId());
}
