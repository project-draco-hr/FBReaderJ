{
  final Queue<ZLFile> dirQueue=new LinkedList<ZLFile>();
  final HashSet<ZLFile> dirSet=new HashSet<ZLFile>();
  final LinkedList<ZLPhysicalFile> fileList=new LinkedList<ZLPhysicalFile>();
  dirQueue.offer(new ZLPhysicalFile(new File(Paths.BooksDirectoryOption.getValue())));
  while (!dirQueue.isEmpty()) {
    for (    ZLFile file : dirQueue.poll().children()) {
      if (file.isDirectory()) {
        if (!dirSet.contains(file)) {
          dirQueue.add(file);
          dirSet.add(file);
        }
      }
 else {
        file.setCached(true);
        fileList.add((ZLPhysicalFile)file);
      }
    }
  }
  return fileList;
}
