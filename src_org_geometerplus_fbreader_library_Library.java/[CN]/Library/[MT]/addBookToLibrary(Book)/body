{
  myBooks.add(book);
  List<Author> authors=book.authors();
  if (authors.isEmpty()) {
    authors=(List<Author>)myNullList;
  }
  final SeriesInfo seriesInfo=book.getSeriesInfo();
  for (  Author a : authors) {
    final AuthorTree authorTree=getFirstLevelTree(ROOT_BY_AUTHOR).getAuthorSubTree(a);
    if (seriesInfo == null) {
      authorTree.getBookSubTree(book,false);
    }
 else {
      authorTree.getSeriesSubTree(seriesInfo.Name).getBookInSeriesSubTree(book);
    }
  }
  if (seriesInfo != null) {
    FirstLevelTree seriesRoot=getFirstLevelTree(ROOT_BY_SERIES);
    if (seriesRoot == null) {
      seriesRoot=new FirstLevelTree(myRootTree,myRootTree.indexOf(getFirstLevelTree(ROOT_BY_TITLE)) + 1,ROOT_BY_SERIES);
    }
    seriesRoot.getSeriesSubTree(seriesInfo.Name).getBookInSeriesSubTree(book);
  }
  if (myDoGroupTitlesByFirstLetter) {
    final String letter=TitleTree.firstTitleLetter(book);
    if (letter != null) {
      final TitleTree tree=getFirstLevelTree(ROOT_BY_TITLE).getTitleSubTree(letter);
      tree.getBookSubTree(book,true);
    }
  }
 else {
    getFirstLevelTree(ROOT_BY_TITLE).getBookSubTree(book,true);
  }
  List<Tag> tags=book.tags();
  if (tags.isEmpty()) {
    tags=(List<Tag>)myNullList;
  }
  for (  Tag t : tags) {
    getTagTree(t).getBookSubTree(book,true);
  }
  final SearchResultsTree searchResults=(SearchResultsTree)getFirstLevelTree(ROOT_SEARCH_RESULTS);
  if (searchResults != null && book.matches(searchResults.getPattern())) {
    searchResults.getBookSubTree(book,true);
  }
  fireModelChangedEvent(ChangeListener.Code.BookAdded);
}
