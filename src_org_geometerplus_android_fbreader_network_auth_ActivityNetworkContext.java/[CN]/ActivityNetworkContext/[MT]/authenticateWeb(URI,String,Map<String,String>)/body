{
  System.err.println("+++ WEB AUTH +++");
  final String account=getAccountName(uri.getHost(),realm);
  String authUrl=url(uri,params,"auth-url-web");
  if (account != null) {
    final String urlWithAccount=params.get("auth-url-web-with-email");
    if (urlWithAccount != null) {
      authUrl=url(uri,urlWithAccount.replace("{email}",account));
    }
  }
  final String completeUrl=url(uri,params,"complete-url-web");
  final String verificationUrl=url(uri,params,"verification-url");
  if (authUrl == null || completeUrl == null || verificationUrl == null) {
    return errorMap("No data for web authentication");
  }
  final Intent intent=new Intent(myActivity,WebAuthorisationScreen.class);
  intent.setData(Uri.parse(authUrl));
  intent.putExtra(NetworkLibraryActivity.COMPLETE_URL_KEY,completeUrl);
  startActivityAndWait(intent,NetworkLibraryActivity.REQUEST_WEB_AUTHORISATION_SCREEN);
  System.err.println("--- WEB AUTH ---");
  return verify(verificationUrl);
}
