{
  if (stream != null) {
    final CertificateFactory factory=CertificateFactory.getInstance("X509");
    Certificate cert=factory.generateCertificate(stream);
    if (!(cert instanceof X509Certificate)) {
      throw new CertificateException("That's impossible!!! Certificate with invalid type has been returned by X.509 certificate factory.");
    }
    myCertificate=(X509Certificate)cert;
    myCertificate.checkValidity();
  }
 else {
    myCertificate=null;
  }
  myBase=null;
  try {
    final TrustManagerFactory factory=TrustManagerFactory.getInstance("X509");
    factory.init((KeyStore)null);
    final TrustManager[] managers=factory.getTrustManagers();
    if (managers != null && managers.length > 0) {
      myBase=(X509TrustManager)managers[0];
    }
  }
 catch (  NoSuchAlgorithmException e) {
  }
catch (  KeyStoreException e) {
  }
}
