{
  final ImageView coverView=(ImageView)findViewById(R.id.book_cover);
  final int maxHeight=250;
  final int maxWidth=maxHeight * 3 / 4;
  coverView.setVisibility(View.GONE);
  coverView.setImageDrawable(null);
  final FormatPlugin plugin=PluginCollection.Instance().getPlugin(book.File);
  if (plugin != null) {
    final ZLImage image=plugin.readCover(book);
    if (image != null) {
      final ZLAndroidImageManager mgr=(ZLAndroidImageManager)ZLAndroidImageManager.Instance();
      final Runnable refreshRunnable=new Runnable(){
        public void run(){
          ZLAndroidImageData data=mgr.getImageData(image);
          if (data != null) {
            final Bitmap coverBitmap=data.getBitmap(2 * maxWidth,2 * maxHeight);
            if (coverBitmap != null) {
              coverView.setVisibility(View.VISIBLE);
              coverView.getLayoutParams().width=maxWidth;
              coverView.getLayoutParams().height=maxHeight;
              coverView.setImageBitmap(coverBitmap);
            }
          }
        }
      }
;
      if (image instanceof ZLLoadableImage) {
        ZLLoadableImage loadable=(ZLLoadableImage)image;
        if (loadable.isSynchronized()) {
          refreshRunnable.run();
        }
 else {
          ZLAndroidImageLoader.Instance().startImageLoading(loadable,refreshRunnable);
        }
      }
 else {
        refreshRunnable.run();
      }
    }
  }
}
