{
  final ImageView coverView=(ImageView)findViewById(R.id.book_cover);
  final int maxHeight=250;
  final int maxWidth=maxHeight * 3 / 4;
  coverView.setVisibility(View.GONE);
  coverView.setImageDrawable(null);
  final FormatPlugin plugin=PluginCollection.Instance().getPlugin(book.File);
  if (plugin == null) {
    return;
  }
  final ZLImage image=plugin.readCover(book);
  if (image == null) {
    return;
  }
  if (image instanceof ZLLoadableImage) {
    ((ZLLoadableImage)image).synchronize();
  }
  final ZLAndroidImageData data=((ZLAndroidImageManager)ZLAndroidImageManager.Instance()).getImageData(image);
  if (data == null) {
    return;
  }
  final Bitmap coverBitmap=data.getBitmap(2 * maxWidth,2 * maxHeight);
  if (coverBitmap == null) {
    return;
  }
  coverView.setVisibility(View.VISIBLE);
  coverView.getLayoutParams().width=maxWidth;
  coverView.getLayoutParams().height=maxHeight;
  coverView.setImageBitmap(coverBitmap);
}
