{
  super.onCreate(icicle);
  requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
  final NetworkView networkView=NetworkView.Instance();
  if (!networkView.isInitialized()) {
    finish();
    return;
  }
  final Intent intent=getIntent();
  final NetworkLibrary library=NetworkLibrary.Instance();
  final NetworkTree.Key key=(NetworkTree.Key)intent.getSerializableExtra(CATALOG_KEY_KEY);
  myTree=library.getTreeByKey(key);
  System.err.println("KEY = " + key);
  if (myTree == null) {
    throw new RuntimeException("Tree not found for key " + key);
  }
  networkView.setOpenedActivity(key,this);
  setListAdapter(new CatalogAdapter());
  getListView().invalidateViews();
  setupTitle();
  if (myTree instanceof NetworkCatalogTree && Util.isAccountRefillingSupported(this,((NetworkCatalogTree)myTree).Item.Link)) {
    setDefaultTree(new RefillAccountTree((NetworkCatalogTree)myTree));
  }
}
