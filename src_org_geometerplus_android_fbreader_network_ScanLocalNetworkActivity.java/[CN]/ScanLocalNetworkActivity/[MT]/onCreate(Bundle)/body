{
  super.onCreate(icicle);
  Thread.setDefaultUncaughtExceptionHandler(new org.geometerplus.zlibrary.ui.android.library.UncaughtExceptionHandler(this));
  setContentView(R.layout.scan_local_network);
  setTitle(myResource.getResource("localCatalogs").getValue());
  final View buttonView=findViewById(R.id.scan_local_network_buttons);
  final ZLResource buttonResource=ZLResource.resource("dialog").getResource("button");
  final Button rescanButton=(Button)buttonView.findViewById(R.id.ok_button);
  rescanButton.setText(buttonResource.getResource("rescan").getValue());
  rescanButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View view){
      scan();
    }
  }
);
  final Button cancelButton=(Button)buttonView.findViewById(R.id.cancel_button);
  cancelButton.setText(buttonResource.getResource("cancel").getValue());
  cancelButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View view){
      finish();
    }
  }
);
  final WifiManager wifi=(WifiManager)getSystemService(Context.WIFI_SERVICE);
  myLock=wifi.createMulticastLock("FBReader_lock");
  myLock.setReferenceCounted(true);
  myLock.acquire();
  scan();
}
