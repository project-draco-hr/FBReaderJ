{
  runOnUiThread(new Runnable(){
    public void run(){
      setListAdapter(new ArrayAdapter<ServiceInfoItem>(ScanLocalNetworkActivity.this,R.layout.local_service_item,services));
      final View listView=findViewById(android.R.id.list);
      final TextView errorView=(TextView)findViewById(R.id.scan_local_network_error);
      if (errorText != null) {
        listView.setVisibility(View.GONE);
        errorView.setVisibility(View.VISIBLE);
        errorView.setText(errorText);
        errorView.setTextColor(Color.RED);
      }
 else {
        listView.setVisibility(View.VISIBLE);
        errorView.setVisibility(View.GONE);
      }
    }
  }
);
}
