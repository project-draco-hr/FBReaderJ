{
  runOnUiThread(new Runnable(){
    public void run(){
      final View listView=findViewById(android.R.id.list);
      final View errorView=findViewById(R.id.scan_local_network_error);
      if (error != null) {
        listView.setVisibility(View.GONE);
        errorView.setVisibility(View.VISIBLE);
        ((TextView)errorView).setText(error);
      }
 else {
        listView.setVisibility(View.VISIBLE);
        errorView.setVisibility(View.GONE);
      }
    }
  }
);
}
