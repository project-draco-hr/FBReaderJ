{
  try {
    doBefore();
  }
 catch (  ZLNetworkException e) {
    finishOnUiThread(e.getMessage(),false);
    return;
  }
  String error=null;
  try {
    doLoading(new NetworkOperationData.OnNewItemListener(){
      private int myItemsNumber;
      public void onNewItem(      INetworkLink link,      NetworkItem item){
        addItem(link,item);
        ++myItemsNumber;
        updateItemsOnUiThread();
      }
      public boolean confirmInterrupt(){
        return confirmInterruptLoading();
      }
      public void commitItems(      INetworkLink link){
        ItemsLoader.this.commitItems(link);
      }
    }
);
  }
 catch (  ZLNetworkException e) {
    error=e.getMessage();
  }
  updateItemsOnUiThread();
  ensureItemsProcessed();
  finishOnUiThread(error,isLoadingInterrupted());
  ensureFinishProcessed();
}
