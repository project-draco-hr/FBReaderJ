{
  if (bookmark.getModelId() != null) {
    System.err.println("Cannot go to position in footnote model " + bookmark.getModelId());
    return;
  }
  bookmark.onOpen();
  final FBReader fbreader=(FBReader)FBReader.Instance();
  final long bookId=bookmark.getBookId();
  if ((fbreader.Model == null) || (fbreader.Model.Book.getId() != bookId)) {
    final Book book=Book.getById(bookId);
    if (book != null) {
      finish();
      fbreader.openBook(book,bookmark.getPosition());
    }
 else {
      Toast.makeText(this,ZLResource.resource("errorMessage").getResource("cannotOpenBook").getValue(),Toast.LENGTH_SHORT).show();
    }
  }
 else {
    finish();
    fbreader.BookTextView.gotoPosition(bookmark.getPosition());
  }
}
