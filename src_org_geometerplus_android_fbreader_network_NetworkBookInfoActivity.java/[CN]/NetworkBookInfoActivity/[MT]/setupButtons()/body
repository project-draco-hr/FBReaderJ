{
  final ZLResource resource=ZLResource.resource("networkView");
  final int buttons[]=new int[]{R.id.network_book_button0,R.id.network_book_button1,R.id.network_book_button2,R.id.network_book_button3};
  final Set<NetworkBookActions.Action> actions=NetworkBookActions.getContextMenuActions(myBook,myConnection);
  final boolean skipSecondButton=actions.size() < buttons.length && actions.size() % 2 == 1;
  int buttonNumber=0;
  for (  final NetworkBookActions.Action a : actions) {
    if (skipSecondButton && buttonNumber == 1) {
      ++buttonNumber;
    }
    if (buttonNumber >= buttons.length) {
      break;
    }
    final String text;
    if (a.Arg == null) {
      text=resource.getResource(a.Key).getValue();
    }
 else {
      text=resource.getResource(a.Key).getValue().replace("%s",a.Arg);
    }
    final int buttonId=buttons[buttonNumber++];
    TextView button=(TextView)findViewById(buttonId);
    button.setText(text);
    button.setVisibility(View.VISIBLE);
    button.setOnClickListener(new View.OnClickListener(){
      public void onClick(      View v){
        NetworkBookActions.runActionStatic(NetworkBookInfoActivity.this,myBook,a.Id);
        NetworkBookInfoActivity.this.updateView();
      }
    }
);
    button.setEnabled(a.Id != NetworkTreeActions.TREE_NO_ACTION);
  }
  findViewById(R.id.network_book_left_spacer).setVisibility(skipSecondButton ? View.VISIBLE : View.GONE);
  findViewById(R.id.network_book_right_spacer).setVisibility(skipSecondButton ? View.VISIBLE : View.GONE);
  if (skipSecondButton) {
    final int buttonId=buttons[1];
    View button=findViewById(buttonId);
    button.setVisibility(View.GONE);
    button.setOnClickListener(null);
  }
  while (buttonNumber < buttons.length) {
    final int buttonId=buttons[buttonNumber++];
    View button=findViewById(buttonId);
    button.setVisibility(View.GONE);
    button.setOnClickListener(null);
  }
}
