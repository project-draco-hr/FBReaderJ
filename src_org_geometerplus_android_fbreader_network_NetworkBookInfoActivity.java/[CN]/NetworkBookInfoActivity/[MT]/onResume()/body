{
  super.onResume();
  if (!NetworkLibrary.Instance().isInitialized()) {
    new NetworkInitializer(null).start();
  }
  if (myBook == null) {
    if ("litres-book".equals(getIntent().getData().getScheme())) {
      System.err.println("uri = " + getIntent().getData());
    }
    final NetworkTree tree=Util.getTreeFromIntent(getIntent());
    if (!(tree instanceof NetworkBookTree)) {
      finish();
      return;
    }
    myBook=((NetworkBookTree)tree).Book;
    myConnection=new BookDownloaderServiceConnection();
    bindService(new Intent(getApplicationContext(),BookDownloaderService.class),myConnection,BIND_AUTO_CREATE);
    setTitle(myBook.Title);
    setupDescription();
    setupExtraLinks();
    setupInfo();
    setupCover();
    setupButtons();
  }
}
