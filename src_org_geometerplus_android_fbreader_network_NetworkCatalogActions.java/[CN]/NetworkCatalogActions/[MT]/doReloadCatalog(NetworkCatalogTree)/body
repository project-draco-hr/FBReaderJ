{
  if (!startProcessingTree(tree)) {
    return;
  }
  final String url=tree.Item.URLByType.get(NetworkCatalogItem.URL_CATALOG);
  if (url == null) {
    throw new RuntimeException("That's impossible!!!");
  }
  NetworkLibraryActivity.Instance.getAdapter().expandOrCollapseTree(tree);
  tree.ChildrenItems.clear();
  tree.clear();
  NetworkLibraryActivity.Instance.getAdapter().resetTree();
  final ExpandCatalogHandler handler=new ExpandCatalogHandler(tree);
  NetworkLibraryActivity.Instance.loadCatalog(Uri.parse(url),new ExpandCatalogRunnable(tree,handler,false));
}
