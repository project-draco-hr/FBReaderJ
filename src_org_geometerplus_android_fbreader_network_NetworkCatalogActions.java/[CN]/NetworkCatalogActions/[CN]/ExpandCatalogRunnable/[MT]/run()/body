{
  final NetworkLink link=myTree.Item.Link;
  if (myCheckAuthentication && link.authenticationManager() != null) {
    NetworkAuthenticationManager mgr=link.authenticationManager();
    AuthenticationStatus auth=mgr.isAuthorised(true);
    if (auth.Message != null) {
      myHandler.sendFinish(auth.Message);
      return;
    }
    if (auth.Status == ZLBoolean3.B3_TRUE && mgr.needsInitialization()) {
      final String err=mgr.initialize();
      if (err != null) {
        mgr.logOut();
      }
    }
  }
  final String err=myTree.Item.loadChildren(new NetworkOperationData.OnNewItemListener(){
    private long myUpdateTime;
    private int myItemsNumber;
    public boolean onNewItem(    NetworkLibraryItem item){
      myHandler.addItem(item);
      if (InterruptFlag.get() || myItemsNumber++ >= 250) {
        return true;
      }
      final long now=System.currentTimeMillis();
      if (now > myUpdateTime) {
        myHandler.sendUpdateItems();
        myUpdateTime=now + 1000;
      }
      return false;
    }
  }
);
  myHandler.sendUpdateItems();
  myHandler.ensureFinish();
  myHandler.sendFinish(err);
}
