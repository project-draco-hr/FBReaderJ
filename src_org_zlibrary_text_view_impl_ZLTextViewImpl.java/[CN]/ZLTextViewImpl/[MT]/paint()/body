{
  preparePaintInfo();
  myTextElementMap.clear();
  myTreeNodeMap.clear();
  final ZLPaintContext context=getContext();
  context.clear(ZLTextStyleCollection.getInstance().getBaseStyle().BackgroundColorOption.getValue());
  if ((myModel == null) || (myModel.getParagraphsNumber() == 0)) {
    return;
  }
  final ZLTextLineInfoVector lineInfos=myLineInfos;
  final int lineInfosSize=lineInfos.size();
  final ZLIntArray labels=new ZLIntArray(lineInfosSize + 1);
  labels.add(0);
  context.moveYTo(getTopMargin());
  for (int i=0; i < lineInfosSize; ++i) {
    prepareTextLine(lineInfos.get(i));
    labels.add(myTextElementMap.size());
  }
  context.moveYTo(getTopMargin());
  for (int i=0; i < lineInfosSize; ++i) {
    drawTextLine(context,lineInfos.get(i),labels.get(i),labels.get(i + 1));
  }
}
