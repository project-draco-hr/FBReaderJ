{
  ZLPaintContext context=getContext();
  int paragraphs=myModel.getParagraphsNumber();
  if (paragraphs > 0) {
    ZLTextParagraphCursor firstParagraph=ZLTextParagraphCursor.getCursor(myModel,0);
    ZLTextWordCursor start=new ZLTextWordCursor();
    start.setCursor(firstParagraph);
    buildInfos(start);
  }
  int h=0;
  for (  ZLTextLineInfo info : myLineInfos) {
    int w=0;
    for (ZLTextWordCursor cursor=info.RealStart; !cursor.equalWordNumber(info.End) && !cursor.isEndOfParagraph(); cursor.nextWord()) {
      ZLTextElement element=cursor.getElement();
      if (element instanceof ZLTextWord) {
        String text=((ZLTextWord)element).Data;
        int dw=context.getStringWidth(text);
        context.drawString(w,h + info.Height,text);
        w+=dw;
      }
 else       if (element instanceof ZLTextHSpaceElement) {
        String text=" ";
        int dw=context.getStringWidth(text);
        context.drawString(w,h + info.Height,text);
        w+=dw;
      }
 else       if (element instanceof ZLTextControlElement) {
        myStyle.applyControl((ZLTextControlElement)element);
      }
    }
    h+=info.Height + info.Descent;
  }
}
