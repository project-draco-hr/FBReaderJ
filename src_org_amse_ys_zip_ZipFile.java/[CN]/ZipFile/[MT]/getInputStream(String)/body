{
  if (!myFileHeaders.isEmpty()) {
    LocalFileHeader header=myFileHeaders.get(entryName);
    if (header != null) {
      return createZipInputStream(header);
    }
    if (myAllFilesAreRead) {
      return null;
    }
  }
  MyBufferedInputStream baseStream=getBaseStream();
  baseStream.setPosition(0);
  try {
    do {
      int signature=baseStream.read4Bytes();
      if (signature != LocalFileHeader.FILE_HEADER_SIGNATURE) {
        if (signature == LocalFileHeader.FOLDER_HEADER_SIGNATURE) {
          break;
        }
 else {
          throw new ZipException("Wrong signature " + signature + " found at position "+ baseStream.offset());
        }
      }
    }
 while (!readFileHeader(baseStream,entryName));
    LocalFileHeader header=myFileHeaders.get(entryName);
    if (header != null) {
      try {
        return createZipInputStream(header);
      }
 catch (      ZipException e) {
      }
    }
  }
  finally {
    storeBaseStream(baseStream);
  }
  return null;
}
