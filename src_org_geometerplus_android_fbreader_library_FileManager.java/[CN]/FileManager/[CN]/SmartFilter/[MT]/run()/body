{
  if (!myFile.isReadable()) {
    runOnUiThread(new Runnable(){
      public void run(){
        UIUtil.showErrorMessage(FileManager.this,"permissionDenied");
      }
    }
);
    finish();
    return;
  }
  final ArrayList<ZLFile> children=new ArrayList<ZLFile>(myFile.children());
  Collections.sort(children,new FileComparator());
  for (  ZLFile file : children) {
    if (Thread.currentThread().isInterrupted()) {
      break;
    }
    if (file.isDirectory() || file.isArchive() || PluginCollection.Instance().getPlugin(file) != null) {
      final FileListAdapter adapter=(FileListAdapter)getListAdapter();
      adapter.add(new FileItem(file));
      runOnUiThread(new Runnable(){
        public void run(){
          adapter.notifyDataSetChanged();
        }
      }
);
    }
  }
}
