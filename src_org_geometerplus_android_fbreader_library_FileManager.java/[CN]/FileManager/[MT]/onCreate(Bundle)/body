{
  super.onCreate(icicle);
  if (DatabaseInstance == null || LibraryInstance == null) {
    finish();
    return;
  }
  final ListAdapter adapter=new ListAdapter(this,new ArrayList<FBTree>());
  setListAdapter(adapter);
  final String[] path=getIntent().getStringExtra(TREE_PATH_KEY).split("\000");
  if (path.length == 1) {
    myFile=null;
    setTitle(myResource.getResource(PATH_FILE_TREE).getValue());
    addItem(Paths.BooksDirectoryOption().getValue(),"fileTreeLibrary");
    addItem("/","fileTreeRoot");
    addItem(Environment.getExternalStorageDirectory().getPath(),"fileTreeCard");
  }
 else {
    myFile=ZLFile.createFileByPath(path[1]);
    if (myFile == null) {
      finish();
      return;
    }
    setTitle(path[1]);
    startUpdate();
  }
  getListView().setOnCreateContextMenuListener(adapter);
  getListView().setTextFilterEnabled(true);
}
