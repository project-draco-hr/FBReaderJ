{
  Log.v(LOG,"onCreate()");
  super.onCreate(savedInstanceState);
  FManagerAdapter adapter=new FManagerAdapter(this);
  setListAdapter(adapter);
  final Bundle extras=getIntent().getExtras();
  final String path=extras != null ? extras.getString(FileManager.FILE_MANAGER_PATH) : null;
  if (path == null) {
    setTitle(ZLResource.resource("libraryView").getResource("fileTree").getValue());
    addItem(Paths.BooksDirectoryOption().getValue(),"books");
    addItem("/","root");
    addItem(Environment.getExternalStorageDirectory().getPath(),"sdcard");
  }
 else {
    setTitle(path);
    final SmartFilter filter=new SmartFilter(this,adapter,ZLFile.createFileByPath(path));
    new Thread(filter).start();
  }
  getListView().setTextFilterEnabled(true);
  getListView().setOnItemClickListener(new AdapterView.OnItemClickListener(){
    public void onItemClick(    AdapterView<?> parent,    View view,    int position,    long id){
      step(((FManagerAdapter)getListAdapter()).getItem(position).getFile());
    }
  }
);
}
