{
  final int size=++mySize;
  Entry[] table=myTable;
  int length=table.length;
  if (length <= size * 4 / 3) {
    final int newLength=table.length << 1;
    Entry[] newTable=new Entry[newLength];
    for (int i=0; i < length; ++i) {
      Entry next;
      for (Entry entry=table[i]; entry != null; entry=next) {
        final int newIndex=entry.HashCode & (newLength - 1);
        next=entry.Next;
        entry.Next=newTable[newIndex];
        newTable[newIndex]=entry;
      }
    }
    table=newTable;
    myTable=table;
    length=newLength;
  }
  final int hashCode=key.hashCode();
  final int index=hashCode & (length - 1);
  table[index]=new Entry(key,hashCode,value,table[index]);
}
