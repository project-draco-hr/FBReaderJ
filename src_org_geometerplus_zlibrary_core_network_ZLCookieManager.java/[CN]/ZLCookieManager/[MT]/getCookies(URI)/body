{
  final String host=uri.getHost();
  Set<Cookie> allCookiesForHost=myCookiesByHost.get(host);
  if (allCookiesForHost == null) {
    allCookiesForHost=new HashSet<Cookie>();
    myCookiesByHost.put(host,allCookiesForHost);
    final CookieDatabase db=CookieDatabase.getInstance();
    if (db != null) {
      allCookiesForHost.addAll(db.getCookiesForHost(host));
    }
  }
  if (allCookiesForHost.isEmpty()) {
    return Collections.emptyList();
  }
  final List<Cookie> filteredCookies=new LinkedList<Cookie>();
  for (  Cookie c : allCookiesForHost) {
    if (c.isApplicable(uri)) {
      filteredCookies.add(c);
    }
  }
  return filteredCookies;
}
