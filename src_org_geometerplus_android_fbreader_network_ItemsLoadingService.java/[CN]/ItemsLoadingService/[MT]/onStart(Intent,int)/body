{
  super.onStart(intent,startId);
  doStart();
  final NetworkTree tree=Util.getTreeFromIntent(intent);
  if (tree == null) {
    doStop();
    return;
  }
  intent.removeExtra(NetworkLibraryActivity.TREE_KEY_KEY);
  if (!NetworkView.Instance().isInitialized()) {
    doStop();
    return;
  }
  final ItemsLoader runnable=getRunnable(tree);
  if (runnable == null) {
    doStop();
    return;
  }
  final Handler finishHandler=new Handler(){
    public void handleMessage(    Message message){
      doStop();
      removeRunnable(tree);
      NetworkView.Instance().fireModelChanged();
    }
  }
;
  NetworkView.Instance().fireModelChangedAsync();
  final Thread loader=new Thread(new Runnable(){
    public void run(){
      try {
        runnable.run();
      }
  finally {
        finishHandler.sendEmptyMessage(0);
      }
    }
  }
);
  loader.setPriority(Thread.MIN_PRIORITY);
  loader.start();
}
