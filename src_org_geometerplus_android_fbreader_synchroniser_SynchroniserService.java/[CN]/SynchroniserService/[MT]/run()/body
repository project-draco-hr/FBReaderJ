{
  System.err.println("SYNCHRONIZER BINDED TO LIBRARY");
  myCollection.addListener(this);
  if (mySynchronizationThread == null) {
    mySynchronizationThread=new Thread(){
      public void run(){
        System.err.println("HELLO THREAD");
        for (BookQuery q=new BookQuery(new Filter.Empty(),20); ; q=q.next()) {
          final List<Book> books=myCollection.books(q);
          if (books.isEmpty()) {
            break;
          }
          for (          Book b : books) {
            addBook(b);
          }
        }
        while (!myQueue.isEmpty()) {
          final Book book=myQueue.remove(0);
          if (myProcessed.contains(book)) {
            continue;
          }
          myProcessed.add(book);
          System.err.println("Processing " + book.getTitle() + " ["+ book.File.getPath()+ "]");
          uploadBookToServer(book);
        }
        System.err.println("BYE-BYE THREAD");
        mySynchronizationThread=null;
      }
    }
;
    mySynchronizationThread.setPriority(Thread.MIN_PRIORITY);
    mySynchronizationThread.start();
  }
}
