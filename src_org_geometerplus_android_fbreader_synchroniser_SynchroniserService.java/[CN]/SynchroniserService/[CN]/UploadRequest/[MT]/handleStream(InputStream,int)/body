{
  final BufferedReader reader=new BufferedReader(new InputStreamReader(stream));
  final StringBuilder buffer=new StringBuilder();
  String line;
  while ((line=reader.readLine()) != null) {
    buffer.append(line);
  }
  final Object response=JSONValue.parse(buffer.toString());
  String id=null;
  List<String> hashes=null;
  String error=null;
  try {
    if (response instanceof Map) {
      id=(String)((Map)response).get("id");
      hashes=(List<String>)((Map)response).get("hashes");
      error=(String)((Map)response).get("error");
    }
  }
 catch (  Exception e) {
  }
  if (error != null) {
    System.err.println("UPLOAD FAILURE: " + error);
  }
 else   if (id != null && hashes != null) {
    System.err.println("UPLOADED SUCCESSFULLY: " + id);
    myHashesFromServer.addAll(hashes);
  }
 else {
    System.err.println("UNEXPECED RESPONSE: " + response);
  }
}
