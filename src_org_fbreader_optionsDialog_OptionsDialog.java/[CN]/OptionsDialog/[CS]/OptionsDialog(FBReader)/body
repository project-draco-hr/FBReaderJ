{
  ZLTextBaseStyle baseStyle=ZLTextStyleCollection.getInstance().baseStyle();
  myDialog=ZLDialogManager.getInstance().createOptionsDialog("OptionsDialog",new OptionsApplyRunnable(fbreader),true);
  ZLDialogContent generalTab=myDialog.createTab("General");
  CollectionView collectionView=fbreader.getCollectionView();
  generalTab.addOption("bookPath",collectionView.getCollection().PathOption);
  generalTab.addOption("lookInSubdirectories",collectionView.getCollection().ScanSubdirsOption);
  RecentBooksView recentBooksView=(RecentBooksView)fbreader.getRecentBooksView();
  generalTab.addOption("recentListSize",new ZLSimpleSpinOptionEntry(recentBooksView.lastBooks().MaxListSizeOption,1));
  generalTab.addOption("keyDelay",new ZLSimpleSpinOptionEntry(fbreader.KeyDelayOption,50));
  ZLDialogContent encodingTab=myDialog.createTab("Language");
  encodingTab.addOption("autoDetect",new ZLSimpleBooleanOptionEntry(PluginCollection.instance().LanguageAutoDetectOption));
  myDialog.createTab("Scrolling");
  ZLDialogContent selectionTab=myDialog.createTab("Selection");
  selectionTab.addOption("enableSelection",FBView.selectionOption());
  ZLDialogContent marginTab=myDialog.createTab("Margins");
  marginTab.addOptions("left",new ZLSimpleSpinOptionEntry(FBView.getLeftMarginOption(),1),"right",new ZLSimpleSpinOptionEntry(FBView.getRightMarginOption(),1));
  marginTab.addOptions("top",new ZLSimpleSpinOptionEntry(FBView.getTopMarginOption(),1),"bottom",new ZLSimpleSpinOptionEntry(FBView.getBottomMarginOption(),1));
  myDialog.createTab("Format");
  myDialog.createTab("Styles");
  ZLDialogContent rotationTab=myDialog.createTab("Rotation");
  rotationTab.addOption("direction",new RotationTypeEntry(rotationTab.getResource("direction"),fbreader.RotationAngleOption));
  ZLDialogContent colorsTab=myDialog.createTab("Colors");
  myDialog.createTab("Keys");
  myDialog.createTab("Config");
}
