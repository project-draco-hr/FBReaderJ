{
  myDialog.addWindowListener(new WindowAdapter(){
    public void windowClosing(    WindowEvent e){
      myWidthOption.setValue(myDialog.getWidth());
      myHeightOption.setValue(myDialog.getHeight());
    }
  }
);
  myDialog.setLayout(new BorderLayout());
  JPanel buttonPanel=new JPanel();
  buttonPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));
  JButton button1=ZLSwingDialogManager.createButton(ZLSwingDialogManager.OK_BUTTON);
  JButton button2=ZLSwingDialogManager.createButton(ZLSwingDialogManager.CANCEL_BUTTON);
  CancelAction cancelAction=new CancelAction(button2.getText());
  button2.setAction(cancelAction);
  buttonPanel.add(button1);
  buttonPanel.add(button2);
  if (button1.getPreferredSize().width < button2.getPreferredSize().width) {
    button1.setPreferredSize(button2.getPreferredSize());
  }
 else {
    button2.setPreferredSize(button1.getPreferredSize());
  }
  if (myShowApplyButton) {
    JButton button3=ZLSwingDialogManager.createButton(ZLSwingDialogManager.APPLY_BUTTON);
    buttonPanel.add(button3);
    if (button3.getPreferredSize().width < button2.getPreferredSize().width) {
      button3.setPreferredSize(button2.getPreferredSize());
    }
 else {
      button2.setPreferredSize(button3.getPreferredSize());
      button1.setPreferredSize(button3.getPreferredSize());
    }
  }
  myDialog.add(buttonPanel,BorderLayout.SOUTH);
  myTabbedPane.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));
  myDialog.getContentPane().add(myTabbedPane,BorderLayout.CENTER);
  myTabbedPane.addChangeListener(new MyChangeListener());
  if (myPanelToKeyMap.get(mySelectedTabKey) != null) {
    myTabbedPane.setSelectedComponent(myPanelToKeyMap.get(mySelectedTabKey));
  }
  button1.requestFocusInWindow();
  KeyStroke escape=KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE,0,false);
  myDialog.getRootPane().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(escape,"ESCAPE");
  myDialog.getRootPane().getActionMap().put("ESCAPE",cancelAction);
  myDialog.pack();
  myDialog.setSize(myWidthOption.getValue(),myHeightOption.getValue());
  myDialog.setLocationRelativeTo(myDialog.getParent());
  myDialog.setModal(true);
  myDialog.setVisible(true);
  return true;
}
