{
  FB2Tag tag;
  try {
    tag=getTag(tagName);
  }
 catch (  IllegalArgumentException e) {
    return;
  }
switch (tag) {
case P:
    myModelReader.endParagraph();
  break;
case SUB:
myModelReader.addControl(FBTextKind.SUB,false);
break;
case SUP:
myModelReader.addControl(FBTextKind.SUP,false);
break;
case CODE:
myModelReader.addControl(FBTextKind.CODE,false);
break;
case EMPHASIS:
myModelReader.addControl(FBTextKind.EMPHASIS,false);
break;
case STRONG:
myModelReader.addControl(FBTextKind.STRONG,false);
break;
case STRIKETHROUGH:
myModelReader.addControl(FBTextKind.STRIKETHROUGH,false);
break;
case V:
case SUBTITLE:
case TEXT_AUTHOR:
case DATE:
myModelReader.popKind();
myModelReader.endParagraph();
break;
case CITE:
case EPIGRAPH:
myModelReader.popKind();
break;
case POEM:
myInsidePoem=false;
break;
case STANZA:
myModelReader.beginParagraph(ZLTextParagraph.Kind.AFTER_SKIP_PARAGRAPH);
myModelReader.endParagraph();
myModelReader.popKind();
break;
case SECTION:
if (myReadMainText) {
myModelReader.endContentsParagraph();
--mySectionDepth;
mySectionStarted=false;
}
 else {
myModelReader.unsetCurrentTextModel();
}
break;
case ANNOTATION:
myModelReader.popKind();
if (myBodyCounter == 0) {
myModelReader.insertEndOfSectionParagraph();
myModelReader.unsetCurrentTextModel();
}
break;
case TITLE:
myModelReader.popKind();
myModelReader.exitTitle();
myInsideTitle=false;
break;
case BODY:
myModelReader.popKind();
myReadMainText=false;
myModelReader.unsetCurrentTextModel();
break;
case A:
myModelReader.addControl(myHyperlinkType,false);
break;
case COVERPAGE:
if (myBodyCounter == 0) {
myInsideCoverpage=false;
myModelReader.insertEndOfSectionParagraph();
myModelReader.unsetCurrentTextModel();
}
break;
case BINARY:
if (myCurrentImage != null) {
myCurrentImage.trimToSize();
}
myCurrentImage=null;
break;
default :
break;
}
}
