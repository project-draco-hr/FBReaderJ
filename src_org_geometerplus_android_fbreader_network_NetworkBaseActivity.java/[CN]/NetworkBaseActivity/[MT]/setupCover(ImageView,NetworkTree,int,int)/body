{
  if (tree instanceof ZLAndroidTree) {
    coverView.setImageResource(((ZLAndroidTree)tree).getCoverResourceId());
    return;
  }
  Bitmap coverBitmap=null;
  ZLImage cover=tree.getCover();
  if (cover != null) {
    ZLAndroidImageData data=null;
    final ZLAndroidImageManager mgr=(ZLAndroidImageManager)ZLAndroidImageManager.Instance();
    if (cover instanceof ZLLoadableImage) {
      final ZLLoadableImage img=(ZLLoadableImage)cover;
      if (img.isSynchronized()) {
        data=mgr.getImageData(img);
      }
 else       if (!myAwaitedCovers.contains(img.getId())) {
        final Runnable runnable=new Runnable(){
          public void run(){
            myAwaitedCovers.remove(img.getId());
            final ListView view=NetworkBaseActivity.this.getListView();
            view.invalidateViews();
          }
        }
;
        ZLAndroidImageLoader.Instance().startImageLoading(img,runnable);
        myAwaitedCovers.add(img.getId());
      }
    }
 else {
      data=mgr.getImageData(cover);
    }
    if (data != null) {
      coverBitmap=data.getBitmap(2 * width,2 * height);
    }
  }
  if (coverBitmap != null) {
    coverView.setImageBitmap(coverBitmap);
  }
 else   if (tree instanceof NetworkBookTree) {
    coverView.setImageResource(R.drawable.ic_list_library_book);
  }
 else {
    coverView.setImageResource(R.drawable.ic_list_library_books);
  }
}
