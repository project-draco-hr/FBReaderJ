{
  final View view=(convertView != null) ? convertView : LayoutInflater.from(parent.getContext()).inflate(R.layout.network_tree_item,parent,false);
  ((TextView)view.findViewById(R.id.network_tree_item_name)).setText(tree.getName());
  ((TextView)view.findViewById(R.id.network_tree_item_childrenlist)).setText(tree.getSecondString());
  if (myCoverWidth == -1) {
    view.measure(ViewGroup.LayoutParams.FILL_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT);
    myCoverHeight=view.getMeasuredHeight();
    myCoverWidth=myCoverHeight * 15 / 32;
    view.requestLayout();
  }
  final ImageView coverView=(ImageView)view.findViewById(R.id.network_tree_item_icon);
  coverView.getLayoutParams().width=myCoverWidth;
  coverView.setScaleType(ImageView.ScaleType.CENTER_INSIDE);
  coverView.requestLayout();
  setupCover(coverView,tree,myCoverWidth,myCoverWidth);
  final ImageView statusView=(ImageView)view.findViewById(R.id.network_tree_item_status);
  final int status=(tree instanceof NetworkBookTree) ? NetworkBookActions.getBookStatus(((NetworkBookTree)tree).Book,Connection) : 0;
  if (status != 0) {
    statusView.setVisibility(View.VISIBLE);
    statusView.setImageResource(status);
  }
 else {
    statusView.setVisibility(View.GONE);
  }
  statusView.requestLayout();
  return view;
}
