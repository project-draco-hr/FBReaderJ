{
  for (int ready=0; ready < len; ++ready) {
    final int num=read();
    if (num == -1) {
      return ready > 0 ? ready : -1;
    }
    b[off + ready]=(byte)num;
  }
  return len;
}
