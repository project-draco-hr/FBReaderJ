{
  myCollection=collection;
  myBookInfo=new BookDescription.BookInfo(fileName);
  myDialog=ZLDialogManager.getInstance().createOptionsDialog("InfoDialog",actionOnAccept,false);
  ZLDialogContent commonTab=myDialog.createTab("Common");
  commonTab.addOption("file",new ZLStringInfoEntry(new ZLFile(fileName).getPath()));
  commonTab.addOption("title",myBookInfo.getTitleOption());
  myAuthorDisplayNameEntry=new AuthorDisplayNameEntry(this);
  myAuthorSortKeyEntry=new AuthorSortKeyEntry(this);
  ArrayList languageCodes=ZLLanguageList.languageCodes();
  languageCodes.add("de-traditional");
  myLanguageEntry=new ZLLanguageOptionEntry(myBookInfo.LanguageOption,languageCodes);
  mySeriesTitleEntry=new SeriesTitleEntry(this);
  myBookNumberEntry=new ZLSimpleSpinOptionEntry(myBookInfo.getNumberInSequenceOption(),1);
  commonTab.addOption("authorDisplayName",myAuthorDisplayNameEntry);
  commonTab.addOption("authorSortKey",myAuthorSortKeyEntry);
  commonTab.addOption("language",myLanguageEntry);
  if (myEncodingSetEntry != null) {
    commonTab.addOption("encodingSet",myEncodingSetEntry);
  }
  ZLDialogContent seriesTab=myDialog.createTab("Series");
  seriesTab.addOption("seriesTitle",mySeriesTitleEntry);
  seriesTab.addOption("bookNumber",myBookNumberEntry);
  mySeriesTitleEntry.onValueEdited(mySeriesTitleEntry.initialValue());
  FormatPlugin plugin=FormatPlugin.PluginCollection.instance().getPlugin(new ZLFile(fileName),false);
}
