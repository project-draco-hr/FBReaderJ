{
  LitResAuthenticationManager mgr=(LitResAuthenticationManager)Link.authenticationManager();
  if (!mgr.mayBeAuthorised(true)) {
    throw new ZLNetworkException(NetworkException.ERROR_AUTHENTICATION_FAILED);
  }
  try {
    if (myForceReload) {
      mgr.reloadPurchasedBooks();
    }
  }
  finally {
    myForceReload=true;
    LinkedList<NetworkLibraryItem> children=new LinkedList<NetworkLibraryItem>();
    mgr.collectPurchasedBooks(children);
    Collections.sort(children,new NetworkBookItemComparator());
    for (    NetworkLibraryItem item : children) {
      listener.onNewItem(Link,item);
    }
    listener.commitItems(Link);
  }
}
