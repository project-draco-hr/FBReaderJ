{
  final LitResAuthenticationManager mgr=(LitResAuthenticationManager)Link.authenticationManager();
  if (!mgr.mayBeAuthorised(true)) {
    throw new ZLNetworkException(NetworkException.ERROR_AUTHENTICATION_FAILED);
  }
  try {
    if (myForceReload) {
      mgr.reloadPurchasedBooks();
    }
  }
  finally {
    myForceReload=true;
    ArrayList<NetworkBookItem> children=new ArrayList<NetworkBookItem>(mgr.purchasedBooks());
    Collections.sort(children,new NetworkBookItemComparator());
    for (    NetworkLibraryItem item : children) {
      listener.onNewItem(Link,item);
    }
    listener.commitItems(Link);
  }
}
