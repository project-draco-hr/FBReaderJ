{
  super.onCreate(icicle);
  System.err.println("smsDialog");
  ZLResourceFile.init(getApplicationContext());
  myResource=ZLResource.resource("smsDialog");
  setContentView(R.layout.sms_dialog);
  setTitle(myResource.getResource("title").getValue());
  final ListView listView=(ListView)findViewById(R.id.sms_list);
  final TelephonyManager manager=(TelephonyManager)getSystemService(Activity.TELEPHONY_SERVICE);
  if (manager != null) {
    final String operator=manager.getNetworkOperator();
    if (operator.length() > 3) {
      String url="http://data.fbreader.org/catalogs/litres/sms/smsinfo.php";
      url=ZLNetworkUtil.appendParameter(url,"mcc",operator.substring(0,3));
      url=ZLNetworkUtil.appendParameter(url,"mnc",operator.substring(3));
      final String name=manager.getNetworkOperatorName();
      if (name != null) {
        url=ZLNetworkUtil.appendParameter(url,"name",name);
      }
      try {
        ZLNetworkManager.Instance().perform(new ZLNetworkRequest(url){
          public void handleStream(          URLConnection connection,          InputStream inputStream) throws IOException, ZLNetworkException {
            new SmsInfoXMLReader().read(inputStream);
          }
        }
);
      }
 catch (      ZLNetworkException e) {
      }
      System.err.println(manager.getSimOperator());
      System.err.println(manager.getSimOperatorName());
    }
  }
  final ZLResource buttonResource=ZLResource.resource("dialog").getResource("button");
  final Button okButton=findButton(R.id.sms_ok_button);
  okButton.setText(buttonResource.getResource("ok").getValue());
  okButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
    }
  }
);
  final Button cancelButton=findButton(R.id.sms_cancel_button);
  cancelButton.setText(buttonResource.getResource("cancel").getValue());
  cancelButton.setOnClickListener(new View.OnClickListener(){
    public void onClick(    View v){
      finish();
    }
  }
);
}
