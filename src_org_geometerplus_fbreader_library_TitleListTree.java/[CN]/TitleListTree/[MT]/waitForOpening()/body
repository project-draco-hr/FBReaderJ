{
  clear();
  myDoGroupByFirstLetter=false;
  final TreeSet<String> letterSet=new TreeSet<String>();
  final List<Book> books=Collection.books();
  if (books.size() > 9) {
    for (    Book b : books) {
      final String letter=b.firstTitleLetter();
      if (letter != null) {
        letterSet.add(letter);
      }
    }
    myDoGroupByFirstLetter=books.size() > letterSet.size() * 5 / 4;
  }
  if (myDoGroupByFirstLetter) {
    for (    String letter : letterSet) {
      createTitleSubTree(letter);
    }
  }
 else {
    for (    Book b : books) {
      createBookWithAuthorsSubTree(b);
    }
  }
}
