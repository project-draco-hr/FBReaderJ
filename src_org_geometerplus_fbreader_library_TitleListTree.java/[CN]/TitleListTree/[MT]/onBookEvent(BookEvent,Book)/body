{
  if (book == null) {
    return false;
  }
switch (event) {
case Added:
    if (myGroupByFirstLetter) {
      return createTitleSubTree(book.firstTitleLetter());
    }
 else {
      return createBookWithAuthorsSubTree(book);
    }
case Removed:
  if (myGroupByFirstLetter) {
    return false;
  }
 else {
    return super.onBookEvent(event,book);
  }
default :
case Updated:
if (myGroupByFirstLetter) {
  return createTitleSubTree(book.firstTitleLetter());
}
 else {
  boolean changed=removeBook(book);
  changed|=createBookWithAuthorsSubTree(book);
  return changed;
}
}
}
