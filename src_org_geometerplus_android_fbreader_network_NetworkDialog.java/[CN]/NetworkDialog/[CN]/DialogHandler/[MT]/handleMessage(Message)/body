{
  if (!NetworkView.Instance().isInitialized()) {
    return;
  }
  final NetworkLibrary library=NetworkLibrary.Instance();
  if (message.arg1 != 0) {
    library.invalidateChildren();
  }
  library.invalidateVisibility();
  library.synchronize();
  NetworkView.Instance().fireModelChanged();
  if (message.what < 0) {
    if (message.what == -2) {
      final ZLResource dialogResource=ZLResource.resource("dialog");
      final ZLResource boxResource=dialogResource.getResource("networkError");
      final ZLResource buttonResource=dialogResource.getResource("button");
      new AlertDialog.Builder(myActivity).setTitle(boxResource.getResource("title").getValue()).setMessage((String)message.obj).setIcon(0).setPositiveButton(buttonResource.getResource("ok").getValue(),null).create().show();
    }
 else {
      myErrorMessage=(String)message.obj;
      myActivity.showDialog(myId);
      return;
    }
  }
 else   if (message.what > 0) {
    if (myOnSuccessRunnable != null) {
      myOnSuccessRunnable.run();
    }
  }
  clearData();
}
