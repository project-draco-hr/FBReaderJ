{
  super.onStart(intent,startId);
  doStart();
  final Uri uri=intent.getData();
  if (uri == null) {
    doStop();
    return;
  }
  intent.setData(null);
  if (NetworkLibraryActivity.Instance == null) {
    doStop();
    return;
  }
  final Runnable runnable=NetworkLibraryActivity.Instance.getCatalogRunnable(uri);
  if (runnable == null) {
    doStop();
    return;
  }
  final Handler finishHandler=new Handler(){
    public void handleMessage(    Message message){
      doStop();
      endProgressNotification();
      if (NetworkLibraryActivity.Instance != null) {
        NetworkLibraryActivity.Instance.removeCatalogRunnable(uri);
      }
    }
  }
;
  startProgressNotification();
  final Thread loader=new Thread(new Runnable(){
    public void run(){
      try {
        runnable.run();
      }
  finally {
        finishHandler.sendEmptyMessage(0);
      }
    }
  }
);
  loader.setPriority(Thread.MIN_PRIORITY);
  loader.start();
}
