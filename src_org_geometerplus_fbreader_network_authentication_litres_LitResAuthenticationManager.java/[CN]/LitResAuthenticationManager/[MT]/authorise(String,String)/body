{
  final Map<String,String> params=new HashMap<String,String>();
  final String url=parseUrl(Link.getUrl(UrlInfo.Type.SignIn),params);
  if (url == null) {
    throw new ZLNetworkException(NetworkException.ERROR_UNSUPPORTED_OPERATION);
  }
synchronized (this) {
    UserNameOption.setValue(username);
  }
  try {
    final LitResLoginXMLReader xmlReader=new LitResLoginXMLReader(Link.getSiteName());
    final LitResNetworkRequest request=new LitResNetworkRequest(url,xmlReader);
    for (    Map.Entry<String,String> entry : params.entrySet()) {
      request.addPostParameter(entry.getKey(),entry.getValue());
    }
    request.addPostParameter("login",username);
    request.addPostParameter("pwd",password);
    ZLNetworkManager.Instance().perform(request);
    NetworkLibrary.Instance().fireModelChangedEvent(NetworkLibrary.ChangeListener.Code.SignedIn);
    initUser(null,xmlReader.Sid,xmlReader.UserId,xmlReader.CanRebill);
  }
 catch (  ZLNetworkException e) {
    logOut(false);
    throw e;
  }
}
