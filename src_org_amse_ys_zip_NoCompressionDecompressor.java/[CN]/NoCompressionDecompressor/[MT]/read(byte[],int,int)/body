{
  int i=0;
  for (; i < len; ++i) {
    int value=read();
    if (value == -1) {
      break;
    }
    b[off + i]=(byte)value;
  }
  return (i > 0) ? i : -1;
}
