{
  if (fileName == null) {
    return null;
  }
  final ZLFile bookFile=new ZLFile(fileName);
  String physicalFileName;
  if (file == null) {
    physicalFileName=bookFile.getPhysicalFilePath();
    file=new ZLFile(physicalFileName);
    if (!file.exists()) {
      return null;
    }
  }
 else {
    physicalFileName=file.getPath();
  }
  if (description == null) {
    description=new BookDescription(fileName,readFromDB);
  }
  if (BookDescriptionUtil.checkInfo(file) && description.myIsSaved) {
    return description;
  }
  if (physicalFileName != fileName) {
    BookDescriptionUtil.resetZipInfo(file);
  }
  BookDescriptionUtil.saveInfo(file);
  final FormatPlugin plugin=PluginCollection.instance().getPlugin(bookFile);
  if ((plugin == null) || !plugin.readDescription(fileName,description)) {
    return null;
  }
  String title=description.getTitle();
  if ((title == null) || (title.length() == 0)) {
    description.setTitle(bookFile.getName(true));
  }
  return description;
}
