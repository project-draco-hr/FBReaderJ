{
  if (bookFile == null) {
    return null;
  }
  final ZLPhysicalFile physicalFile=bookFile.getPhysicalFile();
  if ((physicalFile != null) && !physicalFile.exists()) {
    return null;
  }
  final BookDescription description=new BookDescription(bookFile,true);
  FileInfoSet fileInfos=new FileInfoSet();
  fileInfos.load(physicalFile);
  if (fileInfos.check(physicalFile) && description.myIsSaved) {
    return description;
  }
  fileInfos.save();
  final FormatPlugin plugin=PluginCollection.instance().getPlugin(bookFile);
  if ((plugin == null) || !plugin.readDescription(bookFile,description)) {
    return null;
  }
  String title=description.getTitle();
  if ((title == null) || (title.length() == 0)) {
    description.setTitle(bookFile.getName(true));
  }
  return description;
}
