{
  Config.Instance().runOnConnect(new Runnable(){
    public void run(){
      UIUtil.wait("loadingNetworkLibrary",new Runnable(){
        public void run(){
          if (SQLiteNetworkDatabase.Instance() == null) {
            new SQLiteNetworkDatabase(activity.getApplication());
          }
          final NetworkLibrary library=NetworkLibrary.Instance();
          if (!library.isInitialized()) {
            library.initialize();
          }
          if (action != null) {
            action.run();
          }
        }
      }
,activity);
    }
  }
);
}
