{
  final NetworkAuthenticationManager mgr=link.authenticationManager();
  final Intent intent=new Intent(activity,AuthenticationActivity.class);
  intent.putExtra(AuthenticationActivity.USERNAME_KEY,mgr.UserNameOption.getValue());
  if (isRegistrationSupported(activity,link)) {
    intent.putExtra(AuthenticationActivity.SHOW_SIGNUP_LINK_KEY,true);
  }
  intent.putExtra(AuthenticationActivity.SCHEME_KEY,"https");
  intent.putExtra(AuthenticationActivity.ERROR_KEY,error);
  if (onSuccess != null) {
    ourAfterRegisrationMap.put(activity,onSuccess);
  }
  activity.startActivityForResult(intent,NetworkLibraryActivity.CUSTOM_AUTHENTICATION_CODE);
}
