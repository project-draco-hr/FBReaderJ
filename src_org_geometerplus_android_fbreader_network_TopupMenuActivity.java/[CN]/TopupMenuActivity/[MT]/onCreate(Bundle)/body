{
  super.onCreate(icicle);
  setTitle(NetworkLibrary.resource().getResource("topupTitle").getValue());
  final String url=getIntent().getData().toString();
  myLink=NetworkLibrary.Instance().getLinkByUrl(url);
  myAmount=getIntent().getStringExtra(AMOUNT_KEY);
  myInfos=new ArrayList<PluginApi.TopupActionInfo>();
  if (myLink.getUrlInfo(UrlInfo.Type.TopUp) != null) {
    myInfos.add(new PluginApi.TopupActionInfo(Uri.parse(url + "/browser"),NetworkLibrary.resource().getResource("topupViaBrowser").getValue(),100));
  }
  try {
    startActivityForResult(new Intent(TOPUP_ACTION,getIntent().getData()),0);
  }
 catch (  ActivityNotFoundException e) {
    if (myInfos.size() == 1) {
      runTopupDialog(myInfos.get(0));
    }
    finish();
    return;
  }
  setListAdapter(new ActionListAdapter());
  getListView().setOnItemClickListener(this);
}
