{
  tag=tag.toLowerCase();
switch (myReadState) {
default :
    break;
case Nothing:
  if (testTag(OpenPackagingFormat,"metadata",tag) || "dc-metadata".equals(tag)) {
    myReadState=ReadState.Metadata;
  }
break;
case Metadata:
if (testDCTag("title",tag)) {
myReadState=ReadState.Title;
}
 else if (testDCTag("author",tag)) {
final String role=attributes.getValue("role");
if (role == null) {
  myReadState=ReadState.Author2;
}
 else if (role.equals("aut")) {
  myReadState=ReadState.Author;
}
}
 else if (testDCTag("subject",tag)) {
myReadState=ReadState.Subject;
}
 else if (testDCTag("language",tag)) {
myReadState=ReadState.Language;
}
 else if (testTag(OpenPackagingFormat,"meta",tag)) {
if (attributes.getValue("name").equals("calibre:series")) {
  mySeriesTitle=attributes.getValue("content");
}
 else if (attributes.getValue("name").equals("calibre:series_index")) {
  final String strIndex=attributes.getValue("content");
  try {
    mySeriesIndex=Float.parseFloat(strIndex);
  }
 catch (  NumberFormatException e) {
  }
}
}
break;
}
return false;
}
