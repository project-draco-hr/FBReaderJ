{
  tag=tag.toLowerCase();
  if (myReadState == ReadState.Metadata && (testTag(OpenPackagingFormat,"metadata",tag) || "dc-metadata".equals(tag))) {
    myReadState=ReadState.Nothing;
    return true;
  }
  String bufferContent=myBuffer.toString().trim();
  if (bufferContent.length() != 0) {
switch (myReadState) {
case Title:
      myBook.setTitle(bufferContent);
    break;
case Author:
  myAuthorList.add(bufferContent);
break;
case Author2:
myAuthorList2.add(bufferContent);
break;
case Subject:
myBook.addTag(bufferContent);
break;
case Language:
{
int index=bufferContent.indexOf('_');
if (index >= 0) {
bufferContent=bufferContent.substring(0,index);
}
index=bufferContent.indexOf('-');
if (index >= 0) {
bufferContent=bufferContent.substring(0,index);
}
myBook.setLanguage("cz".equals(bufferContent) ? "cs" : bufferContent);
break;
}
}
}
myBuffer.delete(0,myBuffer.length());
myReadState=ReadState.Metadata;
return false;
}
