{
synchronized (myBackgroundLock) {
    myBackgroundLinks=new ArrayList<INetworkLink>();
    final int cacheMode=clearCache ? OPDSLinkReader.CACHE_CLEAR : OPDSLinkReader.CACHE_UPDATE;
    try {
      OPDSLinkReader.loadOPDSLinks(cacheMode,new OnNewLinkListener(){
        public void onNewLink(        INetworkLink link){
          myBackgroundLinks.add(link);
        }
      }
);
    }
 catch (    ZLNetworkException e) {
      myBackgroundLinks=null;
      throw e;
    }
 finally {
      if (myBackgroundLinks != null) {
        if (myBackgroundLinks.isEmpty()) {
          myBackgroundLinks=null;
        }
      }
    }
    final List<INetworkLink> linksCopy;
synchronized (myLinks) {
      linksCopy=new ArrayList<INetworkLink>(myLinks);
    }
    for (    INetworkLink link : linksCopy) {
      if (link instanceof ICustomNetworkLink) {
        final ICustomNetworkLink customLink=(ICustomNetworkLink)link;
        if (customLink.isObsolete(12 * 60 * 60* 1000)) {
          customLink.reloadInfo(true);
          NetworkDatabase.Instance().saveCustomLink(customLink);
        }
      }
    }
  }
}
