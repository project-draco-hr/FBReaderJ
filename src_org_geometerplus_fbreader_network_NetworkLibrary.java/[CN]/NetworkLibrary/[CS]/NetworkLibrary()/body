{
  LinkedList<String> catalogs=readCatalogFileNames();
  final OPDSLinkReader reader=new OPDSLinkReader();
  for (  String fileName : catalogs) {
    INetworkLink link=reader.readDocument(ZLResourceFile.createResourceFile("data/network/" + fileName));
    if (link != null) {
      myLoadedLinks.add(link);
    }
  }
  NetworkDatabase.Instance().loadCustomLinks(myCustomLinks,new NetworkDatabase.ICustomLinksFactory(){
    public ICustomNetworkLink createCustomLink(    int id,    String siteName,    String title,    String summary,    String icon,    Map<String,String> links){
      final ICustomNetworkLink link=reader.createCustomLink(id,siteName,title,summary,icon,links);
      link.setSaveLinkListener(myChangesListener);
      return link;
    }
  }
);
  LinksComparator comparator=new LinksComparator();
  Collections.sort(myLoadedLinks,comparator);
  Collections.sort(myCustomLinks,comparator);
  ArrayList<ArrayList<? extends INetworkLink>> linksList=new ArrayList<ArrayList<? extends INetworkLink>>();
  linksList.add(myLoadedLinks);
  linksList.add(myCustomLinks);
  myLinks=new CompositeList(linksList,comparator);
}
