{
  AlertDialog alert=(AlertDialog)dialog;
  final String login=((TextView)alert.findViewById(R.id.network_authentication_login)).getText().toString().trim();
  final String password=((TextView)alert.findViewById(R.id.network_authentication_password)).getText().toString();
  if (login.length() == 0) {
    final String err=myResource.getResource("loginIsEmpty").getValue();
    sendError(err);
    return;
  }
  final NetworkAuthenticationManager mgr=myLink.authenticationManager();
  mgr.UserNameOption.setValue(login);
  final Runnable runnable=new Runnable(){
    public void run(){
      try {
        mgr.authorise(password);
        if (mgr.needsInitialization()) {
          mgr.initialize();
        }
      }
 catch (      ZLNetworkException e) {
        mgr.logOut();
        sendError(e.getMessage());
        return;
      }
      sendSuccess();
    }
  }
;
  UIUtil.wait("authentication",runnable,myActivity);
}
