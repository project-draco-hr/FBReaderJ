{
  if (menuInfo != null) {
    final int position=((AdapterView.AdapterContextMenuInfo)menuInfo).position;
    final NetworkTree tree=(NetworkTree)getListAdapter().getItem(position);
    if (tree != null) {
      final NetworkTreeActions actions=NetworkView.Instance().getActions(tree);
      if (actions != null) {
        actions.buildContextMenu(this,menu,tree);
        return;
      }
    }
  }
 else   if (getCurrentTree() instanceof NetworkCatalogTree) {
    final INetworkLink link=((NetworkCatalogTree)getCurrentTree()).Item.Link;
    if (Util.isTopupSupported(link)) {
      final TopupActions actions=NetworkView.Instance().getTopupActions();
      if (actions != null) {
        actions.buildContextMenu(this,menu,link);
        return;
      }
    }
  }
  super.onCreateContextMenu(menu,view,menuInfo);
}
