{
  if (myContextMenuActions.isEmpty()) {
    fillContextMenuList();
  }
  final int position=((AdapterView.AdapterContextMenuInfo)menuInfo).position;
  final NetworkTree tree=(NetworkTree)getListAdapter().getItem(position);
  if (tree != null) {
    int count=0;
    for (    Action a : myContextMenuActions) {
      if (a.isVisible(tree) && a.isEnabled(tree)) {
        ++count;
      }
    }
    if (count > 1) {
      menu.setHeaderTitle(tree.getName());
      for (      Action a : myContextMenuActions) {
        if (a.isVisible(tree) && a.isEnabled(tree)) {
          menu.add(0,a.Code,0,a.getContextLabel(tree));
        }
      }
    }
  }
}
