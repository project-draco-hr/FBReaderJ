{
  super.onCreate(icicle);
  SQLiteCookieDatabase.init(this);
  Connection=new BookDownloaderServiceConnection();
  bindService(new Intent(getApplicationContext(),BookDownloaderService.class),Connection,BIND_AUTO_CREATE);
  setListAdapter(new NetworkLibraryAdapter(this));
  init(getIntent());
  setDefaultKeyMode(DEFAULT_KEYS_SEARCH_LOCAL);
  if (getCurrentTree() instanceof RootTree) {
    if (!NetworkLibrary.Instance().isInitialized()) {
      Util.initLibrary(this);
    }
 else {
      NetworkLibrary.Instance().fireModelChangedEvent(NetworkLibrary.ChangeListener.Code.SomeCode);
    }
  }
  openTreeByIntent(getIntent());
}
