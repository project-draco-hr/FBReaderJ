{
  final NetworkLibrary library=NetworkLibrary.Instance();
  try {
synchronized (library) {
      final NetworkCatalogTree tree=getTree();
      if (library.getStoredLoader(tree) != null) {
        return;
      }
      library.storeLoader(getTree(),this);
    }
    library.fireModelChangedEvent(NetworkLibrary.ChangeListener.Code.SomeCode);
    try {
      doBefore();
    }
 catch (    ZLNetworkException e) {
      onFinish(e,false);
      return;
    }
    try {
      doLoading();
      onFinish(null,isLoadingInterrupted());
    }
 catch (    ZLNetworkException e) {
      onFinish(e,isLoadingInterrupted());
    }
  }
  finally {
    library.removeStoredLoader(getTree());
    library.fireModelChangedEvent(NetworkLibrary.ChangeListener.Code.SomeCode);
synchronized (this) {
      if (myPostRunnable != null) {
        myPostRunnable.run();
        myFinishedFlag=true;
      }
    }
  }
}
