{
  final LinkedList<LibraryTree> toRemove=new LinkedList<LibraryTree>();
  for (  LibraryTree tree : this) {
    if ((tree instanceof BookTree) && ((BookTree)tree).Book.equals(book)) {
      toRemove.add(tree);
    }
  }
  for (  LibraryTree tree : toRemove) {
    tree.removeSelf();
    LibraryTree parent=tree.Parent;
    for (; (parent != null) && !parent.hasChildren(); parent=parent.Parent) {
      parent.removeSelf();
    }
    for (; parent != null; parent=parent.Parent) {
      parent.myChildrenString=null;
    }
  }
  return !toRemove.isEmpty();
}
