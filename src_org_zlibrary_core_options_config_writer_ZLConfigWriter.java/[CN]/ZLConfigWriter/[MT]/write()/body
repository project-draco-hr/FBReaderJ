{
  myConfig.applyDelta();
  Map<String,ZLGroup> data=myConfig.getGroups();
  Map<String,StringBuffer> configFilesContent=new LinkedHashMap<String,StringBuffer>();
  StringBuffer sb;
  Map<String,Boolean> currentGroupOpenedIn;
  for (  String group : data.keySet()) {
    currentGroupOpenedIn=new HashMap<String,Boolean>();
    for (    ZLOptionValue value : data.get(group).getValues()) {
      sb=configFilesContent.get(value.getCategory());
      if (currentGroupOpenedIn.get(value.getCategory()) == null) {
        currentGroupOpenedIn.put(value.getCategory(),false);
      }
      if (sb == null) {
        sb=new StringBuffer();
        configFilesContent.put(value.getCategory(),sb);
      }
      if (!currentGroupOpenedIn.get(value.getCategory())) {
        sb.append("  <group name=\"" + group + "\">\n");
        currentGroupOpenedIn.put(value.getCategory(),true);
      }
      sb.append(value);
    }
    for (    String category : currentGroupOpenedIn.keySet()) {
      configFilesContent.get(category).append("  </group>\n");
    }
  }
  for (  String category : configFilesContent.keySet()) {
    this.writeConfigFile("<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" + "<config>\n" + configFilesContent.get(category) + "</config>",myDestinationDirectory + "/" + category+ ".xml");
  }
}
