{
  family=realFontFamilyName(family);
  final int style=(bold ? Typeface.BOLD : 0) | (italic ? Typeface.ITALIC : 0);
  Typeface[] typefaces=myTypefaces.get(family);
  if (typefaces == null) {
    typefaces=new Typeface[4];
    myTypefaces.put(family,typefaces);
  }
  Typeface tf=typefaces[style];
  if (tf == null) {
    File[] files=AndroidFontUtil.getFontMap(false).get(family);
    if (files != null) {
      try {
        if (files[style] != null) {
          tf=AndroidFontUtil.createFontFromFile(files[style]);
        }
 else {
          for (int i=0; i < 4; ++i) {
            if (files[i] != null) {
              tf=(typefaces[i] != null) ? typefaces[i] : AndroidFontUtil.createFontFromFile(files[i]);
              typefaces[i]=tf;
              break;
            }
          }
        }
      }
 catch (      Throwable e) {
      }
    }
    if (tf == null) {
      tf=Typeface.create(family,style);
    }
    typefaces[style]=tf;
  }
  myTextPaint.setTypeface(tf);
  myTextPaint.setTextSize(size);
  myTextPaint.setUnderlineText(underline);
  myTextPaint.setStrikeThruText(strikeThrought);
}
