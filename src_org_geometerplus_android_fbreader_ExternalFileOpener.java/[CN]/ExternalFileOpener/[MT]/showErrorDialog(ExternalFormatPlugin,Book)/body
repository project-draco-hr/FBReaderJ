{
  final ZLResource dialogResource=ZLResource.resource("dialog");
  final ZLResource buttonResource=dialogResource.getResource("button");
  final String title=dialogResource.getResource("missingPlugin").getResource("title").getValue().replace("%s",plugin.supportedFileType());
  final AlertDialog.Builder builder=new AlertDialog.Builder(myReader).setTitle(title).setIcon(0).setPositiveButton(buttonResource.getResource("yes").getValue(),new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      PackageUtil.installFromMarket(myReader,plugin.packageName());
    }
  }
).setNegativeButton(buttonResource.getResource("no").getValue(),new DialogInterface.OnClickListener(){
    @Override public void onClick(    DialogInterface dialog,    int which){
      myReader.onPluginNotFound(book);
    }
  }
).setOnCancelListener(new DialogInterface.OnCancelListener(){
    @Override public void onCancel(    DialogInterface dialog){
      myReader.onPluginNotFound(book);
    }
  }
);
  final Runnable showDialog=new Runnable(){
    public void run(){
      builder.create().show();
    }
  }
;
  if (!myReader.IsPaused) {
    myReader.runOnUiThread(showDialog);
  }
 else {
    myReader.OnResumeAction=showDialog;
  }
}
