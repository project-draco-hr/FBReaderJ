{
  final BookReader modelReader=reader.getModelReader();
  final String href=xmlattributes.getValue("href");
  if (myHyperlinkStackSize == myHyperlinkStack.length) {
    myHyperlinkStack=ZLArrayUtils.createCopy(myHyperlinkStack,myHyperlinkStackSize,2 * myHyperlinkStackSize);
  }
  if ((href != null) && (href.length() > 0)) {
    final String link=(href.charAt(0) == '#') ? (reader.myReferenceName + href) : href;
    final byte hyperlinkType=isReference(link) ? FBTextKind.EXTERNAL_HYPERLINK : FBTextKind.INTERNAL_HYPERLINK;
    myHyperlinkStack[myHyperlinkStackSize++]=hyperlinkType;
    modelReader.addHyperlinkControl(hyperlinkType,link);
  }
 else {
    myHyperlinkStack[myHyperlinkStackSize++]=FBTextKind.REGULAR;
  }
  final String name=xmlattributes.getValue("name");
  if (name != null) {
    modelReader.addHyperlinkLabel(reader.myReferenceName + "#" + name);
  }
}
