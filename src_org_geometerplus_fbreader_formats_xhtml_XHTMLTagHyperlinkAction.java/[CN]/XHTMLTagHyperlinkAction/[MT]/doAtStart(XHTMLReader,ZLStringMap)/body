{
  final BookReader modelReader=reader.getModelReader();
  final String href=xmlattributes.getValue("href");
  if (myHyperlinkStackSize == myHyperlinkStack.length) {
    myHyperlinkStack=ZLArrayUtils.createCopy(myHyperlinkStack,myHyperlinkStackSize,2 * myHyperlinkStackSize);
  }
  if ((href != null) && (href.length() > 0)) {
    String link=(href.charAt(0) == '#') ? (reader.myReferenceName + href) : href;
    final byte hyperlinkType;
    if (isReference(link)) {
      hyperlinkType=FBTextKind.EXTERNAL_HYPERLINK;
    }
 else {
      hyperlinkType=FBTextKind.INTERNAL_HYPERLINK;
      link=reader.myLocalPathPrefix + link;
    }
    myHyperlinkStack[myHyperlinkStackSize++]=hyperlinkType;
    modelReader.addHyperlinkControl(hyperlinkType,link);
  }
 else {
    myHyperlinkStack[myHyperlinkStackSize++]=FBTextKind.REGULAR;
  }
  final String name=xmlattributes.getValue("name");
  if (name != null) {
    modelReader.addHyperlinkLabel(reader.myReferenceName + '#' + name);
  }
}
