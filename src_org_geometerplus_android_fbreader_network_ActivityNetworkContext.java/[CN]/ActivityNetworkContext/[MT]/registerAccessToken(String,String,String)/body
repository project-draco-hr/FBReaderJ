{
  String code=null;
  try {
    code=GoogleAuthUtil.getToken(myActivity,myAccount,String.format("oauth2:server:client_id:%s:api_scope:%s",clientId,TextUtils.join(" ",new Object[]{Scopes.DRIVE_FILE,Scopes.PROFILE})),null);
    System.err.println("ACCESS TOKEN = " + code);
    final String result=runTokenAuthorization(authUrl,authToken,code);
    System.err.println("AUTHENTICATION RESULT 2 = " + result);
    return true;
  }
 catch (  UserRecoverableAuthException e) {
    myAuthorizationConfirmed=false;
    startActivityAndWait(e.getIntent(),NetworkLibraryActivity.REQUEST_AUTHORISATION);
    return myAuthorizationConfirmed && registerAccessToken(clientId,authUrl,authToken);
  }
catch (  Exception e) {
    return false;
  }
}
