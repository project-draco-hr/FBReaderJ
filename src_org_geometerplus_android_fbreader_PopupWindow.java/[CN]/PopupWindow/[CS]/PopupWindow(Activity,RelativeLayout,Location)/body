{
  super(activity);
  myActivity=activity;
  setFocusable(false);
  final LayoutInflater inflater=(LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
  final RelativeLayout.LayoutParams p;
switch (location) {
default :
case BottomFlat:
    inflater.inflate(R.layout.control_panel_bottom_flat,this,true);
  setBackgroundColor(FBReader.ACTION_BAR_COLOR);
p=new RelativeLayout.LayoutParams(ViewGroup.LayoutParams.FILL_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT);
myAnimated=true;
break;
case Bottom:
inflater.inflate(R.layout.control_panel_bottom,this,true);
p=new RelativeLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT);
myAnimated=false;
break;
case Floating:
inflater.inflate(R.layout.control_panel_floating,this,true);
p=new RelativeLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT);
myAnimated=false;
break;
}
p.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);
p.addRule(RelativeLayout.CENTER_HORIZONTAL);
root.addView(this,p);
setVisibility(View.GONE);
}
