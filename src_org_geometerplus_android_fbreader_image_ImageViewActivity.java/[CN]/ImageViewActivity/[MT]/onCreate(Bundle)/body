{
  super.onCreate(icicle);
  requestWindowFeature(Window.FEATURE_NO_TITLE);
  final ZLAndroidApplication application=ZLAndroidApplication.Instance();
  final boolean showStatusBar=application.ShowStatusBarOption.getValue();
  getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,showStatusBar ? 0 : WindowManager.LayoutParams.FLAG_FULLSCREEN);
  Thread.setDefaultUncaughtExceptionHandler(new org.geometerplus.zlibrary.ui.android.library.UncaughtExceptionHandler(this));
  setContentView(new ImageView());
  final Intent intent=getIntent();
  myBgColor=new ZLColor(intent.getIntExtra(BACKGROUND_COLOR_KEY,new ZLColor(127,127,127).getIntValue()));
  final Uri uri=intent.getData();
  if (ZLFileImage.SCHEME.equals(uri.getScheme())) {
    try {
      final String[] data=uri.getPath().split("\000");
      final ZLFileImage image=new ZLFileImage(MimeType.IMAGE_AUTO,ZLFile.createFileByPath(data[0]),Integer.parseInt(data[1]),Integer.parseInt(data[2]));
      final ZLImageData imageData=ZLImageManager.Instance().getImageData(image);
      myBitmap=((ZLAndroidImageData)imageData).getFullSizeBitmap();
    }
 catch (    Exception e) {
      e.printStackTrace();
      finish();
    }
  }
 else {
    finish();
  }
}
