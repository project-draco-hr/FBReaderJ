{
  if (myModel == null) {
    return false;
  }
  if (myModel instanceof ZLTextTreeModel) {
    ZLTextTreeNodeArea nodeArea=(ZLTextTreeNodeArea)myTreeNodeMap.binarySearch(x,y);
    if (nodeArea != null) {
      final int index=nodeArea.ParagraphIndex;
      final ZLTextTreeParagraph paragraph=((ZLTextTreeModel)myModel).getTreeParagraph(index);
      paragraph.open(!paragraph.isOpen());
      rebuildPaintInfo(true);
      preparePaintInfo();
      if (paragraph.isOpen()) {
        int nextParagraphIndex=index + paragraph.getFullSize();
        int lastParagraphIndex=EndCursor.getParagraphCursor().Index;
        if (EndCursor.isEndOfParagraph()) {
          ++lastParagraphIndex;
        }
      }
      int firstParagraphIndex=StartCursor.getParagraphCursor().Index;
      if (StartCursor.isStartOfParagraph()) {
        --firstParagraphIndex;
      }
      ZLApplication.Instance().refreshWindow();
      return true;
    }
  }
  return false;
}
