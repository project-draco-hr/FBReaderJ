{
  ZLTextParagraphCursorCache.clear();
  if (myModel != null) {
    final int paragraphsNumber=myModel.getParagraphsNumber();
    if (paragraphsNumber > 0) {
      myTextSize=new int[paragraphsNumber + 1];
      myTextSize[0]=0;
      for (int i=0; i < paragraphsNumber; ++i) {
        myTextSize[i + 1]=myTextSize[i] + myModel.getParagraphTextLength(i);
      }
      StartCursor.setCursor(ZLTextParagraphCursor.cursor(myModel,0));
      EndCursor.reset();
      myPaintState=PaintState.START_IS_KNOWN;
    }
  }
}
