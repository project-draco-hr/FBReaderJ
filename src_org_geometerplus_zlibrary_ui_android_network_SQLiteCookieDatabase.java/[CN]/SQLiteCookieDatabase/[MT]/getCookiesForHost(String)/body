{
  final List<Cookie> list=new LinkedList<Cookie>();
  final Cursor cursor=myDatabase.rawQuery("SELECT cookie_id,path,name,value,date_of_expiration,secure " + "FROM Cookie WHERE host='" + hostName + "'",null);
  while (cursor.moveToNext()) {
    final long id=cursor.getLong(0);
    final String path=cursor.getString(1);
    final String name=cursor.getString(2);
    final String value=cursor.getString(3);
    final Date date=SQLiteUtil.getDate(cursor,4);
    final boolean secure=cursor.getLong(5) == 1;
    Set<Integer> portSet=null;
    final Cursor portsCursor=myDatabase.rawQuery("SELECT port FROM CookiePort WHERE cookie_id = " + id,null);
    while (portsCursor.moveToNext()) {
      if (portSet == null) {
        portSet=new HashSet<Integer>();
      }
      portSet.add((int)portsCursor.getLong(1));
    }
    portsCursor.close();
    list.add(new Cookie(name,value,hostName,path,portSet,date,secure,false));
  }
  cursor.close();
  return list;
}
