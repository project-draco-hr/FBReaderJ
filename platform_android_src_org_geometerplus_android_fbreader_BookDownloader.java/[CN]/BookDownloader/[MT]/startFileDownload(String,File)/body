{
  final Handler handler=new Handler(){
    public void handleMessage(    Message message){
      try {
        runFBReader(file);
      }
 catch (      Exception e) {
      }
    }
  }
;
  new Thread(new Runnable(){
    public void run(){
      try {
        final URL url=new URL(uriString);
        final URLConnection connection=url.openConnection();
        ourFileLength=connection.getContentLength();
        if (ourFileLength > 0) {
          ourProgressBar.setIndeterminate(false);
          ourProgressBar.setMax(ourFileLength);
          ourProgressBar.setProgress(0);
          ourDownloadedPart=0;
        }
        final HttpURLConnection httpConnection=(HttpURLConnection)connection;
        final int response=httpConnection.getResponseCode();
        if (response == HttpURLConnection.HTTP_OK) {
          InputStream inStream=httpConnection.getInputStream();
          OutputStream outStream=new FileOutputStream(file);
          final byte[] buffer=new byte[8192];
          int fullSize=0;
          while (true) {
            final int size=inStream.read(buffer);
            if (size <= 0) {
              break;
            }
            ourDownloadedPart+=size;
            ourProgressBar.setProgress(ourDownloadedPart);
            outStream.write(buffer,0,size);
          }
          inStream.close();
          outStream.close();
        }
      }
 catch (      MalformedURLException e) {
      }
catch (      IOException e) {
      }
      handler.sendEmptyMessage(0);
      ourFileLength=-1;
    }
  }
).start();
}
