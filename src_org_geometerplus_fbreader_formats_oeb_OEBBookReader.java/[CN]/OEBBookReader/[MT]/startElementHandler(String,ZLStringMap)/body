{
  tag=tag.toLowerCase();
  if ((myOPFSchemePrefix != null) && tag.startsWith(myOPFSchemePrefix)) {
    tag=tag.substring(myOPFSchemePrefix.length());
  }
  tag=tag.intern();
  if (MANIFEST == tag) {
    myState=READ_MANIFEST;
  }
 else   if (SPINE == tag) {
    myNCXTOCFileName=xmlattributes.getValue("toc");
    myState=READ_SPINE;
  }
 else   if (GUIDE == tag) {
    myState=READ_GUIDE;
  }
 else   if (TOUR == tag) {
    myState=READ_TOUR;
  }
 else   if ((myState == READ_MANIFEST) && (ITEM == tag)) {
    final String id=xmlattributes.getValue("id");
    final String href=xmlattributes.getValue("href");
    if ((id != null) && (href != null)) {
      myIdToHref.put(id,href);
    }
  }
 else   if ((myState == READ_SPINE) && (ITEMREF == tag)) {
    final String id=xmlattributes.getValue("idref");
    if (id != null) {
      final String fileName=(String)myIdToHref.get(id);
      if (fileName != null) {
        myHtmlFileNames.add(fileName);
      }
    }
  }
 else   if ((myState == READ_GUIDE) && (REFERENCE == tag)) {
    final String type=xmlattributes.getValue("type");
    final String title=xmlattributes.getValue("title");
    final String href=xmlattributes.getValue("href");
    if (href != null) {
      if (title != null) {
        myGuideTOC.add(new Reference(title,href));
      }
      if ((type != null) && (COVER_IMAGE.equals(type))) {
        myModelReader.setMainTextModel();
        myModelReader.addImageReference(href,(short)0);
        myModelReader.addImage(href,new ZLFileImage("image/auto",myFilePrefix + href));
      }
    }
  }
 else   if ((myState == READ_TOUR) && (SITE == tag)) {
    final String title=xmlattributes.getValue("title");
    final String href=xmlattributes.getValue("href");
    if ((title != null) && (href != null)) {
      myTourTOC.add(new Reference(title,href));
    }
  }
  return false;
}
