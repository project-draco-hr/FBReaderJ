{
  super.onCreate(icicle);
  final String[] path=getIntent().getStringExtra(TREE_PATH_KEY).split("\000");
  final Library library=LibraryTopLevelActivity.Library;
  LibraryTree root=null;
  if (path.length == 1) {
    if (PATH_RECENT.equals(path[0])) {
      root=library.recentBooks();
    }
 else     if (PATH_BY_AUTHOR.equals(path[0])) {
      root=library.byAuthor();
    }
 else     if (PATH_BY_TAG.equals(path[0])) {
      root=library.byTag();
    }
 else     if (PATH_FAVORITES.equals(path[0])) {
    }
  }
  if (root != null) {
    setListAdapter(new LibraryAdapter(root.subTrees()));
  }
}
