{
  super.onCreate(icicle);
  myTreePathString=getIntent().getStringExtra(TREE_PATH_KEY);
  mySelectedBookPath=getIntent().getStringExtra(SELECTED_BOOK_PATH_KEY);
  final String[] path=myTreePathString.split("\000");
  final Library library=LibraryTopLevelActivity.Library;
  FBTree tree=null;
  if (PATH_RECENT.equals(path[0])) {
    tree=library.recentBooks();
  }
 else   if (PATH_BY_AUTHOR.equals(path[0])) {
    tree=library.byAuthor();
  }
 else   if (PATH_BY_TAG.equals(path[0])) {
    tree=library.byTag();
  }
 else   if (PATH_FAVORITES.equals(path[0])) {
  }
  for (int i=1; i < path.length; ++i) {
    if (tree == null) {
      break;
    }
    tree=tree.getSubTreeByName(path[i]);
  }
  if (tree != null) {
    setListAdapter(new LibraryAdapter(tree.subTrees()));
  }
}
