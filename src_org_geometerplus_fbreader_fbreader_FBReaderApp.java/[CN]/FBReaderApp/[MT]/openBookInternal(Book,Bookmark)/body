{
  if (book != null) {
    onViewChanged();
    if (Model != null) {
      Model.Book.storePosition(BookTextView.getStartCursor());
    }
    BookTextView.setModel(null);
    FootnoteView.setModel(null);
    clearTextCaches();
    Model=null;
    System.gc();
    System.gc();
    Model=BookModel.createModel(book);
    if (Model != null) {
      ZLTextHyphenator.Instance().load(book.getLanguage());
      BookTextView.setModel(Model.BookTextModel);
      BookTextView.gotoPosition(book.getStoredPosition());
      if (bookmark == null) {
        setView(BookTextView);
      }
 else {
        gotoBookmark(bookmark);
      }
      Library.Instance().addBookToRecentList(book);
      final StringBuilder title=new StringBuilder(book.getTitle());
      if (!book.authors().isEmpty()) {
        boolean first=true;
        for (        Author a : book.authors()) {
          title.append(first ? " (" : ", ");
          title.append(a.DisplayName);
          first=false;
        }
        title.append(")");
      }
      setTitle(title.toString());
    }
  }
  getViewWidget().repaint();
}
