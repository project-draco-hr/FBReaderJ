{
switch (item.getItemId()) {
case OptionsItemId.Search:
    return onSearchRequested();
case OptionsItemId.Rescan:
  if (myCollection.status().IsCompleted) {
    myCollection.reset(true);
    openTree(myRootTree);
  }
return true;
case OptionsItemId.UploadAgain:
case OptionsItemId.TryAgain:
for (FBTree tree : getCurrentTree().subtrees()) {
if (tree instanceof BookTree) {
  syncAgain(((BookTree)tree).Book);
}
}
getListAdapter().replaceAll(getCurrentTree().subtrees(),true);
return true;
case OptionsItemId.DeleteAll:
{
final List<Book> books=new LinkedList<Book>();
for (FBTree tree : getCurrentTree().subtrees()) {
if (tree instanceof BookTree) {
books.add(((BookTree)tree).Book);
}
}
tryToDeleteBooks(books);
}
case OptionsItemId.ExternalView:
{
final Intent externalIntent=new Intent(FBReaderIntents.Action.EXTERNAL_LIBRARY);
try {
startActivity(externalIntent);
finish();
}
 catch (ActivityNotFoundException e) {
}
return true;
}
default :
return true;
}
}
