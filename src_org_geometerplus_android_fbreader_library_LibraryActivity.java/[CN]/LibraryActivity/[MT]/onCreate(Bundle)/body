{
  super.onCreate(icicle);
  if (SQLiteBooksDatabase.Instance() == null) {
    new SQLiteBooksDatabase(this,"LIBRARY");
  }
  if (myLibrary == null) {
    myLibrary=Library.Instance();
    myLibrary.addChangeListener(this);
    myLibrary.Collection.addListener(this);
    ((BookCollection)myLibrary.Collection).startBuild();
  }
  mySelectedBook=SerializerUtil.deserializeBook(getIntent().getStringExtra(FBReader.BOOK_KEY));
  new LibraryTreeAdapter(this);
  init(getIntent());
  getListView().setTextFilterEnabled(true);
  getListView().setOnCreateContextMenuListener(this);
}
