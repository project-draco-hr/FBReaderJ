{
  final LibraryTree tree=(LibraryTree)getListAdapter().getItem(position);
  if (tree instanceof ExternalViewTree) {
    runOrInstallExternalView();
  }
 else {
    final Book book=tree.getBook();
    if (book != null) {
      showBookInfo(book);
    }
 else {
      openTree(tree);
    }
  }
}
