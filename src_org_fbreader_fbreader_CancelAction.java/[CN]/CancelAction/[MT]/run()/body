{
  if (fbreader().getMode() != FBReader.ViewMode.BOOK_TEXT) {
    fbreader().restorePreviousMode();
  }
 else   if (fbreader().isFullscreen()) {
    fbreader().setFullscreen(false);
  }
 else   if (fbreader().QuitOnCancelOption.getValue()) {
    fbreader().quit();
  }
}
