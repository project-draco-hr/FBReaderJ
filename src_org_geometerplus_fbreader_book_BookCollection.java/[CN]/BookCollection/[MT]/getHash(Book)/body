{
  final ZLPhysicalFile file=book.File.getPhysicalFile();
  if (file == null) {
    return null;
  }
  String hash=myDatabase.getHash(book.getId(),file.javaFile().lastModified());
  if (hash == null) {
    final UID uid=BookUtil.createUid(file,"SHA-1");
    if (uid == null) {
      return null;
    }
    hash=uid.Id.toLowerCase();
    myDatabase.setHash(book.getId(),hash);
  }
  return hash;
}
