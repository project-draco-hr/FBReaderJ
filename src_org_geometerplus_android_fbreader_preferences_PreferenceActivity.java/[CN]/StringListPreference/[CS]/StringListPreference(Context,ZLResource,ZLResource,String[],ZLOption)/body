{
  super(context,optResource,valResource);
  myCodes=codes;
  myOption=option;
  final String[] texts=new String[myCodes.length];
  valResource=(valResource == null ? optResource : valResource);
  for (int i=0; i < myCodes.length; ++i) {
    texts[i]=valResource.getResource(myCodes[i]).getValue();
  }
  setLists(myCodes,texts);
  if (myOption instanceof ZLIntegerRangeOption) {
    setInitialValue(myCodes[Math.max(0,Math.min(myCodes.length - 1,((ZLIntegerRangeOption)myOption).getValue()))]);
  }
  if (myOption instanceof ZLStringOption) {
    String initVal=((ZLStringOption)myOption).getValue();
    for (int i=0; i < myCodes.length; ++i) {
      if (myCodes[i].equals(initVal)) {
        setInitialValue(myCodes[i]);
        break;
      }
    }
  }
}
