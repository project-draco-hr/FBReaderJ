{
  tag=tag.toLowerCase().intern();
  if (TAG_AUTHORIZATION_FAILED == tag) {
    setException(new ZLNetworkException(NetworkErrors.ERROR_AUTHENTICATION_FAILED));
  }
 else {
    Account=attributes.getValue("account");
    BookId=attributes.getValue("art");
    if (TAG_PURCHASE_OK == tag) {
    }
 else     if (TAG_PURCHASE_FAILED == tag) {
      final String error=attributes.getValue("error");
      if ("1".equals(error)) {
        setException(new ZLNetworkException(NetworkErrors.ERROR_PURCHASE_NOT_ENOUGH_MONEY));
      }
 else       if ("2".equals(error)) {
        setException(new ZLNetworkException(NetworkErrors.ERROR_PURCHASE_MISSING_BOOK));
      }
 else       if ("3".equals(error)) {
        setException(new ZLNetworkException(NetworkErrors.ERROR_PURCHASE_ALREADY_PURCHASED));
      }
 else {
        setException(new ZLNetworkException(NetworkErrors.ERROR_INTERNAL));
      }
    }
 else {
      setException(new ZLNetworkException(NetworkErrors.ERROR_SOMETHING_WRONG,HostName));
    }
  }
  return true;
}
