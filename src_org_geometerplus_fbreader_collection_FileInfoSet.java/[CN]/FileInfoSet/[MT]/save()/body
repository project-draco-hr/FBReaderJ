{
  System.err.println("infos " + myInfosByPair.size());
  System.err.println("to save " + myInfosToSave.size());
  System.err.println("to remove " + myInfosToRemove.size());
  final BooksDatabase database=BooksDatabase.Instance();
  database.executeAsATransaction(new Runnable(){
    public void run(){
      for (      FileInfo info : myInfosToRemove) {
        database.removeFileInfo(info.Id);
        myInfosByPair.remove(new Pair(info.Name,info.Parent));
      }
      myInfosToRemove.clear();
      for (      FileInfo info : myInfosToSave) {
        database.saveFileInfo(info);
      }
      myInfosToSave.clear();
    }
  }
);
}
