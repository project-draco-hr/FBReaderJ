{
  int index=paragraphNumberByBook(book);
  if (index == 0) {
    return;
  }
  myBookToParagraphNumber.remove(book);
  ZLTextTreeParagraph paragraph=getTreeParagraph(index);
  int count=1;
  for (ZLTextTreeParagraph parent=paragraph.getParent(); (parent != null) && (parent.getChildren().size() == 1); parent=parent.getParent()) {
    ++count;
  }
  if (count > index) {
    count=index;
  }
  HashMap newMap=new HashMap();
  for (  Object b : myBookToParagraphNumber.keySet()) {
    Integer i=(Integer)myBookToParagraphNumber.get(b);
    if (i.intValue() < index) {
      newMap.put(b,i);
    }
 else {
      newMap.put(b,i.intValue() - count);
    }
  }
  myBookToParagraphNumber=newMap;
  for (; count > 0; --count) {
    removeParagraph(index--);
  }
}
