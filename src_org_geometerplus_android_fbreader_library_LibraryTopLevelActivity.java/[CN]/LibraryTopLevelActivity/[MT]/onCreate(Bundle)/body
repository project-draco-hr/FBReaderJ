{
  super.onCreate(icicle);
  requestWindowFeature(Window.FEATURE_NO_TITLE);
  final ListAdapter adapter=new ListAdapter(this,new LinkedList<FBTree>());
  adapter.add(new TopLevelTree(Library.ROOT_FAVORITES,myResource.getResource(Library.ROOT_FAVORITES),R.drawable.ic_list_library_favorites,new OpenTreeRunnable(LibraryInstance,new StartTreeActivityRunnable(FBTree.Key.createRootKey(Library.ROOT_FAVORITES),null){
    public void run(){
      if (LibraryInstance.favorites().hasChildren()) {
        super.run();
      }
 else {
        UIUtil.showErrorMessage(LibraryTopLevelActivity.this,"noFavorites");
      }
    }
  }
)));
  addTopLevelTree(Library.ROOT_RECENT,R.drawable.ic_list_library_recent);
  addTopLevelTree(Library.ROOT_BY_AUTHOR,R.drawable.ic_list_library_authors);
  addTopLevelTree(Library.ROOT_BY_TITLE,R.drawable.ic_list_library_books);
  addTopLevelTree(Library.ROOT_BY_TAG,R.drawable.ic_list_library_tags);
  adapter.add(new TopLevelTree(PATH_FILE_TREE,myResource.getResource(PATH_FILE_TREE),R.drawable.ic_list_library_folder,new Runnable(){
    public void run(){
      startActivity(new Intent(LibraryTopLevelActivity.this,FileManager.class).putExtra(TREE_PATH_KEY,PATH_FILE_TREE).putExtra(SELECTED_BOOK_PATH_KEY,mySelectedBookPath));
    }
  }
));
  onNewIntent(getIntent());
}
