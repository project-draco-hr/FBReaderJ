{
  super.onStop();
  if (myIsChanged) {
    final ArrayList<String> ids=new ArrayList<String>();
    for (    Item item : myAllItems) {
      if (item instanceof CatalogItem) {
        final CatalogItem catalogItem=(CatalogItem)item;
        if (catalogItem.IsChecked) {
          ids.add(catalogItem.Id);
        }
      }
    }
    myLibrary.setActiveIds(ids);
    myLibrary.synchronize();
  }
}
