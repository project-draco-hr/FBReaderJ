{
  if (myPositionStack.isEmpty()) {
    preparePaintInfo();
  }
  Position currentPosition=(Position)myPositionStack.get(myCurrentPointInStack);
  while (myPositionStack.size() > myCurrentPointInStack) {
    myPositionStack.remove(myPositionStack.size() - 1);
  }
  myPositionStack.add(position);
  myPositionStack.add(currentPosition);
  while (myPositionStack.size() >= MAX_UNDO_STACK_SIZE) {
    myPositionStack.remove(0);
  }
  myCurrentPointInStack=myPositionStack.size() - 1;
  for (  Object p : myPositionStack) {
    System.out.print(((Position)p).ModelIndex + "," + ((Position)p).ParagraphIndex+ "; ");
  }
  System.out.println("current position " + myCurrentPointInStack);
}
