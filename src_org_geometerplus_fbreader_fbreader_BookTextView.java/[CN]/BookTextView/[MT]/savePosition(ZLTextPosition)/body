{
  if (myPositionStack.isEmpty()) {
    preparePaintInfo();
  }
  final ZLTextPosition currentPosition=myPositionStack.get(myCurrentPointInStack);
  while (myPositionStack.size() > myCurrentPointInStack) {
    myPositionStack.remove(myPositionStack.size() - 1);
  }
  myPositionStack.add(position);
  myPositionStack.add(currentPosition);
  while (myPositionStack.size() >= MAX_UNDO_STACK_SIZE) {
    myPositionStack.remove(0);
  }
  myCurrentPointInStack=myPositionStack.size() - 1;
}
