{
  final int size=menu.size();
  for (int i=0; i < size; ++i) {
    final Menu.Item item=menu.getItem(i);
    if (item instanceof Menubar.PlainItem) {
      processItem((Menubar.PlainItem)item);
    }
 else     if (item instanceof Menubar.Submenu) {
      Menubar.Submenu submenu=(Menubar.Submenu)item;
      processSubmenuBeforeItems(submenu);
      processMenu(submenu);
      processSubmenuAfterItems(submenu);
    }
 else     if (item instanceof Menubar.Separator) {
      processSepartor((Menubar.Separator)item);
    }
  }
}
