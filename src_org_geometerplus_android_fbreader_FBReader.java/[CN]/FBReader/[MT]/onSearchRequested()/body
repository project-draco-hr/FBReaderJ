{
  final boolean textSearchVisible=myTextSearchPanel.getVisibility();
  final boolean navigateVisible=myNavigatePanel.getVisibility();
  ZLApplication.Instance().hideAllPanels();
  final SearchManager manager=(SearchManager)getSystemService(SEARCH_SERVICE);
  manager.setOnCancelListener(new SearchManager.OnCancelListener(){
    public void onCancel(){
      myTextSearchPanel.setVisibility(textSearchVisible);
      myNavigatePanel.setVisibility(navigateVisible);
      manager.setOnCancelListener(null);
    }
  }
);
  final org.geometerplus.fbreader.fbreader.FBReader fbreader=(org.geometerplus.fbreader.fbreader.FBReader)ZLApplication.Instance();
  startSearch(fbreader.TextSearchPatternOption.getValue(),true,null,false);
  return true;
}
