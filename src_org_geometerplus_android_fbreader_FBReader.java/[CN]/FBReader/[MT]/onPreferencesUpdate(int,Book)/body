{
  if (book != null) {
    myFBReaderApp.Collection.saveBook(book,true);
  }
switch (resultCode) {
case RESULT_DO_NOTHING:
    break;
case RESULT_REPAINT:
{
    AndroidFontUtil.clearFontCache();
    final BookModel model=myFBReaderApp.Model;
    if (model != null && book != null) {
      if (model.Book != null) {
        model.Book=book;
        ZLTextHyphenator.Instance().load(model.Book.getLanguage());
      }
    }
    myFBReaderApp.clearTextCaches();
    myFBReaderApp.getViewWidget().repaint();
    break;
  }
case RESULT_RELOAD_BOOK:
myFBReaderApp.reloadBook(book);
break;
}
}
