{
  super.onStart();
  final ZLAndroidLibrary zlibrary=(ZLAndroidLibrary)ZLibrary.Instance();
  final int fullScreenFlag=zlibrary.ShowStatusBarOption.getValue() ? 0 : WindowManager.LayoutParams.FLAG_FULLSCREEN;
  if (fullScreenFlag != myFullScreenFlag) {
    finish();
    startActivity(new Intent(this,getClass()));
  }
  SetScreenOrientationAction.setOrientation(this,zlibrary.OrientationOption.getValue());
  final FBReaderApp fbReader=(FBReaderApp)FBReaderApp.Instance();
  final RelativeLayout root=(RelativeLayout)findViewById(R.id.root_view);
  ((PopupPanel)fbReader.getPopupById(TextSearchPopup.ID)).setPanelInfo(this,root);
  ((PopupPanel)fbReader.getPopupById(NavigationPopup.ID)).setPanelInfo(this,root);
  ((PopupPanel)fbReader.getPopupById(SelectionPopup.ID)).setPanelInfo(this,root);
synchronized (myPluginActions) {
    int index=0;
    while (index < myPluginActions.size()) {
      fbReader.removeAction(PLUGIN_ACTION_PREFIX + index++);
    }
    myPluginActions.clear();
  }
  sendOrderedBroadcast(new Intent(PluginApi.ACTION_REGISTER),null,myPluginInfoReceiver,null,RESULT_OK,null,null);
  new TipRunner().start();
}
