{
  final String menuLanguage=ZLResource.getLanguageOption().getValue();
  if (menuLanguage.equals(myMenuLanguage)) {
    return;
  }
  myMenuLanguage=menuLanguage;
  menu.clear();
  addMenuItem(menu,ActionCode.SHOW_LIBRARY,R.drawable.ic_menu_library);
  addMenuItem(menu,ActionCode.SHOW_NETWORK_LIBRARY,R.drawable.ic_menu_networklibrary);
  addMenuItem(menu,ActionCode.SHOW_TOC,R.drawable.ic_menu_toc);
  addMenuItem(menu,ActionCode.SHOW_BOOKMARKS,R.drawable.ic_menu_bookmarks);
  addMenuItem(menu,ActionCode.SWITCH_TO_NIGHT_PROFILE,R.drawable.ic_menu_night);
  addMenuItem(menu,ActionCode.SWITCH_TO_DAY_PROFILE,R.drawable.ic_menu_day);
  addMenuItem(menu,ActionCode.SEARCH,R.drawable.ic_menu_search);
  addMenuItem(menu,ActionCode.SHARE_BOOK,R.drawable.ic_menu_search);
  addMenuItem(menu,ActionCode.SHOW_PREFERENCES);
  addMenuItem(menu,ActionCode.SHOW_BOOK_INFO);
  final Menu subMenu=addSubMenu(menu,"screenOrientation");
  addMenuItem(subMenu,ActionCode.SET_SCREEN_ORIENTATION_SYSTEM);
  addMenuItem(subMenu,ActionCode.SET_SCREEN_ORIENTATION_SENSOR);
  addMenuItem(subMenu,ActionCode.SET_SCREEN_ORIENTATION_PORTRAIT);
  addMenuItem(subMenu,ActionCode.SET_SCREEN_ORIENTATION_LANDSCAPE);
  if (ZLibrary.Instance().supportsAllOrientations()) {
    addMenuItem(subMenu,ActionCode.SET_SCREEN_ORIENTATION_REVERSE_PORTRAIT);
    addMenuItem(subMenu,ActionCode.SET_SCREEN_ORIENTATION_REVERSE_LANDSCAPE);
  }
  addMenuItem(menu,ActionCode.INCREASE_FONT);
  addMenuItem(menu,ActionCode.DECREASE_FONT);
  addMenuItem(menu,ActionCode.SHOW_NAVIGATION);
  addMenuItem(menu,ActionCode.INSTALL_PLUGINS);
  addMenuItem(menu,ActionCode.OPEN_WEB_HELP);
synchronized (myPluginActions) {
    int index=0;
    for (    PluginApi.ActionInfo info : myPluginActions) {
      if (info instanceof PluginApi.MenuActionInfo) {
        addMenuItem(menu,PLUGIN_ACTION_PREFIX + index++,((PluginApi.MenuActionInfo)info).MenuItemName);
      }
    }
  }
  refresh();
}
