{
  super(context,resource,resourceKey);
  myOption=profile.WallpaperOption;
  final List<ZLFile> predefined=WallpapersUtil.predefinedWallpaperFiles();
  final List<ZLFile> external=WallpapersUtil.externalWallpaperFiles();
  final int size=1 + predefined.size() + external.size();
  final String[] values=new String[size];
  final String[] texts=new String[size];
  final ZLResource optionResource=resource.getResource(resourceKey);
  values[0]="";
  texts[0]=optionResource.getResource("solidColor").getValue();
  int index=1;
  for (  ZLFile f : predefined) {
    values[index]=f.getPath();
    final String name=f.getShortName();
    texts[index]=optionResource.getResource(name.substring(0,name.indexOf("."))).getValue();
    ++index;
  }
  for (  ZLFile f : external) {
    values[index]=f.getPath();
    texts[index]=f.getShortName();
    ++index;
  }
  setLists(values,texts);
  setInitialValue(myOption.getValue());
}
