{
  final ZLView view=ZLApplication.Instance().getCurrentView();
  if (!view.isScrollbarShown()) {
    return 0;
  }
  if (myScrollingState == ScrollingState.NoScrolling) {
    return view.getScrollbarThumbPosition(ZLView.PageIndex.current);
  }
 else {
    final int from=view.getScrollbarThumbPosition(ZLView.PageIndex.current);
    final int to=view.getScrollbarThumbPosition(myPageToScrollTo);
    final int size=myScrollingDirection.isHorizontal() ? getWidth() : getMainAreaHeight();
    final int shift=Math.abs(getAnimationProvider().getScrollingShift());
    return (from * (size - shift) + to * shift) / size;
  }
}
