{
  final ZLView view=ZLApplication.Instance().getCurrentView();
  if (view.scrollbarType() != ZLView.SCROLLBAR_SHOW && view.scrollbarType() != ZLView.SCROLLBAR_SHOW_AS_PROGRESS) {
    return 0;
  }
  if (myScrollingInProgress || (myScrollingShift != 0)) {
    final int from=view.getScrollbarThumbPosition(ZLView.PAGE_CENTRAL);
    final int to=view.getScrollbarThumbPosition(myViewPageToScroll);
    final boolean horizontal=(myViewPageToScroll == ZLView.PAGE_RIGHT) || (myViewPageToScroll == ZLView.PAGE_LEFT);
    final int size=horizontal ? getWidth() : getTextViewHeight();
    final int shift=Math.abs(myScrollingShift);
    return (from * (size - shift) + to * shift) / size;
  }
 else {
    return view.getScrollbarThumbPosition(ZLView.PAGE_CENTRAL);
  }
}
