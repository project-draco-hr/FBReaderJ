{
  if (myMainBitmap == null) {
    return;
  }
  myScrollingDirection=direction;
  final AnimationProvider animator=getAnimationProvider();
  final boolean doSetup=!animator.inProgress();
switch (pageIndex) {
case current:
switch (myPageToScrollTo) {
case current:
      animator.terminate();
    break;
case previous:
  animator.startAutoScrolling(false,-3,direction,getWidth(),getMainAreaHeight());
break;
case next:
animator.startAutoScrolling(false,3,direction,getWidth(),getMainAreaHeight());
break;
}
break;
case previous:
animator.startAutoScrolling(true,3,direction,getWidth(),getMainAreaHeight());
setPageToScrollTo(pageIndex);
break;
case next:
animator.startAutoScrolling(true,-3,direction,getWidth(),getMainAreaHeight());
setPageToScrollTo(pageIndex);
break;
}
drawOnBitmap(mySecondaryBitmap);
postInvalidate();
}
