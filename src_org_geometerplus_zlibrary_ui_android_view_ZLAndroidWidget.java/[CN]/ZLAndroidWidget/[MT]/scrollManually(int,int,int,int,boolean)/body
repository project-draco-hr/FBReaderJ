{
  myScrollingState=ScrollingState.ManualScrolling;
  myScrollHorizontally=horizontally;
  final int shift=horizontally ? endX - startX : endY - startY;
  if (myMainBitmap == null) {
    return;
  }
  if ((shift > 0 && getScrollingShift() <= 0) || (shift < 0 && getScrollingShift() >= 0)) {
    mySecondaryBitmapIsUpToDate=false;
  }
  if (myScrollHorizontally) {
    myEndX=myStartX + shift;
  }
 else {
    myEndY=myStartY + shift;
  }
  setPageToScrollTo(shift < 0 ? ZLView.PageIndex.next : ZLView.PageIndex.previous);
  drawOnBitmap(mySecondaryBitmap);
  postInvalidate();
}
