{
  View view=findViewById(R.id.main_view);
  if (view != null) {
switch (getRequestedOrientation()) {
case ActivityInfo.SCREEN_ORIENTATION_PORTRAIT:
      myOrientation=ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE;
    break;
case ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE:
  myOrientation=ActivityInfo.SCREEN_ORIENTATION_PORTRAIT;
break;
default :
if (view.getWidth() > view.getHeight()) {
myOrientation=ActivityInfo.SCREEN_ORIENTATION_PORTRAIT;
}
 else {
myOrientation=ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE;
}
}
setRequestedOrientation(myOrientation);
myChangeCounter=0;
}
}
