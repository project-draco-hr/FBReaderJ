{
  try {
    final ZLImage image=BookUtil.getCover(DataUtil.fileFromEncodedPath(uri.substring(7)));
    if (image instanceof ZLFileImageProxy) {
      final ZLFileImageProxy proxy=(ZLFileImageProxy)image;
      proxy.synchronize();
      final ZLStreamImage realImage=proxy.getRealImage();
      if (realImage == null) {
        return notFound(uri);
      }
      final InputStream stream=realImage.inputStream();
      if (stream == null) {
        return notFound(uri);
      }
      return new Response(Response.Status.OK,MimeType.IMAGE_PNG.toString(),stream);
    }
 else {
      return notFound(uri);
    }
  }
 catch (  Exception e) {
    return forbidden(uri,e);
  }
}
