{
  final boolean hasBuyReference=this.reference(BookReference.Type.BookBuy) != null || this.reference(BookReference.Type.BookBuyInBrowser) != null;
  for (  BookReference ref : myReferences) {
    final BookReference.Type type=ref.ReferenceType;
    if (type == BookReference.Type.Book || type == BookReference.Type.BookConditional || (!hasBuyReference && type == BookReference.Type.BookFullOrDemo)) {
      String fileName=ref.localCopyFileName(BookReference.Type.Book);
      if (fileName != null) {
        new File(fileName).delete();
      }
    }
  }
}
